"use strict";(self.webpackChunkbored_capybara_web=self.webpackChunkbored_capybara_web||[]).push([["110"],{524:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{APP_SERVICE_NAME:()=>j,AbortController:()=>Ue,AbortSignal:()=>W,Animation:()=>le,AnimationOperation:()=>it,AopManager:()=>ne,AppServiceEngineKnownError:()=>Ce,BaseApp:()=>g,BaseAppSingletonData:()=>Te,BaseError:()=>z,BeforePublishEvent:()=>ge,BodyMixin:()=>D,CachedFunctionProxy:()=>T,ContextProxyType:()=>ot,DEFAULT_ENTRY:()=>S,DispatchEventResult:()=>qe,E_COMPONENT_API_DEPRECATED:()=>Xr,E_COMPONENT_CUSTOM:()=>an,E_COMPONENT_IMAGE_UNSUPPORTED_PROP:()=>sn,E_COMPONENT_LIST_CELL_NOT_FOUND:()=>en,E_COMPONENT_LIST_CHILD_COMPONENT_NOT_EXIST:()=>nn,E_COMPONENT_LIST_DUPLICATED_CELL:()=>Zr,E_COMPONENT_LIST_DYNAMIC_CHANGE_ORIENTATION:()=>tn,E_COMPONENT_LIST_ILLEGAL_ITEM_KEY:()=>zr,E_COMPONENT_LIST_INVALID_PROPS_ARG:()=>rn,E_COMPONENT_LIST_UNSUPPORTED_THREAD_STRATEGY:()=>on,E_CSS:()=>kr,E_DATA_FLOW_UPDATE_EXCEPTION:()=>hr,E_DATA_FLOW_UPDATE_INVALID_PROCESSOR:()=>_r,E_DATA_FLOW_UPDATE_INVALID_TYPE:()=>fr,E_DYNAMIC_COMPONENT_LOAD:()=>$r,E_DYNAMIC_COMPONENT_LOAD_DECODE_FAILED:()=>Qr,E_DYNAMIC_COMPONENT_LOAD_EMPTY_FILE:()=>Gr,E_DYNAMIC_COMPONENT_PRELOAD:()=>Wr,E_ELEMENT_API_ERROR:()=>yr,E_ELEMENT_API_FATAL:()=>gr,E_ELEMENT_UPDATE_NODE_IS_NULL:()=>Er,E_EVENT_EXCEPTION:()=>Pr,E_EXCEPTION_JNI:()=>pn,E_EXCEPTION_PLATFORM:()=>ln,E_JS_PLATFORM_CALL_JS_FUNCTION_TOO_FREQUENCY:()=>Ht,E_JS_RUNTIME_ERROR:()=>Yt,E_LAYOUT_EXCEPTION:()=>br,E_LAYOUT_INITIALIZE:()=>xr,E_LAYOUT_NODE_NULL:()=>vr,E_LAYOUT_PERF_CIRCULAR:()=>Rr,E_LAYOUT_UPDATE_UI_NOT_FOUND:()=>Sr,E_LEPUS_BRIDGE_MODULE_WRONG_PARAM:()=>Kr,E_LEPUS_RENDERER_FUNCTION_ERROR:()=>wr,E_LEPUS_RENDERER_FUNCTION_FATAL:()=>Dr,E_LEPUS_RUNTIME_ERROR:()=>Lr,E_MAIN_TEMPLATE_FETCH_ERROR_FROM_PROVIDER:()=>Qt,E_MAIN_TEMPLATE_LOAD:()=>Vt,E_MAIN_TEMPLATE_LOAD_ENTRY_NOT_FOUND:()=>$t,E_MAIN_TEMPLATE_LOAD_EXCEPTION:()=>Gt,E_MAIN_TEMPLATE_RELOAD:()=>Wt,E_MAIN_TEMPLATE_VERIFY_INVALID_SIGNATURE:()=>Jt,E_NATIVE_MODULES_COMMON_FUNCTION_NOT_FOUND:()=>Tr,E_NATIVE_MODULES_COMMON_MODULE_NOT_FOUND:()=>Nr,E_NATIVE_MODULES_COMMON_WRONG_PARAM_NUM:()=>Ar,E_NATIVE_MODULES_COMMON_WRONG_PARAM_TYPE:()=>Ir,E_NATIVE_MODULES_CUSTOM_ERROR:()=>Cr,E_NATIVE_MODULES_EXCEPTION:()=>Or,E_NATIVE_MODULES_NETWORK:()=>Mr,E_RESOURCE_CUSTOM:()=>dr,E_RESOURCE_EXCEPTION:()=>mr,E_RESOURCE_EXTERNAL_RESOURCE:()=>nr,E_RESOURCE_EXTERNAL_RESOURCE_FETCHER_EXCEPTION:()=>sr,E_RESOURCE_EXTERNAL_RESOURCE_LOCAL_RESOURCE_LOAD_FAIL:()=>ar,E_RESOURCE_EXTERNAL_RESOURCE_REQUEST_FAILED:()=>or,E_RESOURCE_EXTERNAL_RESOURCE_SERVICE_EXCEPTION:()=>ir,E_RESOURCE_FONT:()=>rr,E_RESOURCE_I18N:()=>lr,E_RESOURCE_IMAGE:()=>Kt,E_RESOURCE_IMAGE_BIG_IMAGE:()=>Xt,E_RESOURCE_IMAGE_EXCEPTION:()=>tr,E_RESOURCE_IMAGE_FROM_NETWORK_OR_OTHERS:()=>er,E_RESOURCE_IMAGE_FROM_USER_OR_DESIGN:()=>Zt,E_RESOURCE_IMAGE_PIC_SOURCE:()=>zt,E_RESOURCE_MODULE_IMG_PREFETCH_HELPER_NOT_EXIST:()=>cr,E_RESOURCE_MODULE_PARAMS_ERROR:()=>pr,E_RESOURCE_MODULE_RESOURCE_SERVICE_NOT_EXIST:()=>ur,E_SSR_API_VERSION_NOT_SUPPORTED:()=>qr,E_SSR_DECODE:()=>Fr,E_SSR_EXCEPTION:()=>Vr,E_SSR_HYDRATE_RESULT_DEVIATE_FROM_SSR_RESULT:()=>jr,E_SSR_LOAD_DATA:()=>Br,E_SUCCESS:()=>jt,E_THREAD_WRONG_THREAD:()=>Ur,E_WORKLET_LEPUS_CALL_EXCEPTION:()=>Jr,E_WORKLET_MODULE_EXCEPTION:()=>Hr,E_WORKLET_RAF_CALL_EXCEPTION:()=>Yr,Element:()=>be,EnvKey:()=>nt,ErrorCode:()=>Ne,EventEmitter:()=>$,ExposureManager:()=>ie,Headers:()=>Q,IdentifierType:()=>Ve,InternalError:()=>Z,InternalLepusNgError:()=>Me,InternalRuntimeError:()=>R,IntersectionObserver:()=>Ee,IntersectionObserverManager:()=>se,InvokeError:()=>te,KeyframeEffect:()=>pe,LYNX_CORE:()=>A,Lynx:()=>U,LynxErrorLevel:()=>Oe,LynxFeature:()=>We,MessageEventType:()=>je,NodeRef:()=>ce,NodesRef:()=>w,Performance:()=>ve,Reporter:()=>V,SOURCE_MAP_RELEASE_ERROR_NAME:()=>Pe,SelectorQuery:()=>M,ShareDataSubject:()=>re,StandaloneApp:()=>F,TextInfoManager:()=>oe,URL:()=>Be,URLSearchParamsPolyfill:()=>To,UserError:()=>ee,UserRuntimeError:()=>x,UserValidateError:()=>Ie,Version:()=>Ye,alog:()=>I,arrayBufferToBase64:()=>os,base64ToArrayBuffer:()=>is,callDestroyLifetimeFun:()=>Bs,createEventEmitter:()=>Xe,createRequestClass:()=>Re,createResponseClass:()=>Se,destroyCard:()=>Fs,getPromiseMaybePolyfill:()=>we,handleLoadCardError:()=>st,legacyReportError:()=>He,loadCard:()=>ks,loadDynamicComponent:()=>qs,nativeGlobal:()=>c,needPromisePolyfill:()=>ze,report:()=>Lt,reportError:()=>E,reportThrowError:()=>Ke,version2_12:()=>Ft,version2_14:()=>Bt,version2_4:()=>wt,version2_7:()=>Ut,version2_9:()=>kt,wrapInnerFunction:()=>Pn,wrapUserFunction:()=>On});var $e=function(){return this||(0,eval)("this")}(),y=$e;function Ae(e){let t=typeof e;return"object"===t?Array.isArray(e)?"array":null==e?"null":e instanceof Date?"date":e instanceof RegExp?"regExp":"object":t}function P(e){return"string"==typeof e}function H(e){return"object"===Ae(e)}function q(e){return"function"===Ae(e)}function K(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Ge(e,Error)}}function Ge(e,t){try{return e instanceof t}catch{return!1}}function me(){}function X(e){return nativeConsole}var Qe=function(){return this||(0,eval)("this")}(),ut=X(`groupId:${Qe.groupId||"-1"}`),_e=nativeConsole,f=_e,Oe=(e=>(e[e.Error=1]="Error",e[e.Warn=2]="Warn",e))(Oe||{}),z=class extends Error{constructor(e,t){super(e),t&&(this.stack=t)}},Z=class extends z{constructor(){super(...arguments),this.kind="INTERNAL_ERROR"}},ee=class extends z{constructor(){super(...arguments),this.kind="USER_ERROR"}},Ie=class extends ee{constructor(){super(...arguments),this.name="USER_VALIDATE_ERROR"}},x=class extends ee{constructor(){super(...arguments),this.name="USER_RUNTIME_ERROR"}},R=class extends Z{constructor(){super(...arguments),this.name="INTERNAL_RUNTIME_ERROR"}},Me=class extends Error{constructor(e,t){super(e),t&&(this.stack=t)}},te=class extends Z{constructor(){super(...arguments),this.name="INVOKE_ERROR"}},Ce=class extends Error{constructor(e){super(`APP-SERVICE-Engine: ${e}`),this.type="AppServiceEngineKnownError"}},S="__Card__",j="app-service.js",Pe="LynxGetSourceMapReleaseError",A={filename:"lynx_core",slot:"a4e6b17d78c4efc4b74beda8ee7ef85afb77d3e9",release:"unknown_version"},re=class{constructor(){this.observersFunc=[]}registerObserver(e){if(this.observersFunc.includes(e))return f.log("Subject: Observer has been attached already.");this.observersFunc.push(e)}removeObserver(e){let t=this.observersFunc.indexOf(e);if(-1===t)return f.log("Subject: Nonexistent observer.");this.observersFunc.splice(t,1)}notifyDataChange(e){this.observersFunc.forEach(t=>{if("function"==typeof t)try{t(e)}catch(e){f.log("SharedData change and notifyDataChange error info:"+e)}})}};y.multiApps={},y.currentAppId="",y.globComponentRegistPath="",y.sharedData={},y.globDynamicComponentEntry=S,y.shareDataSubject=new re,y.TaroLynx={},y.bundleSupportLoadScript=!0;var{loadScript:Mt}=y,c=y,We=(e=>(e[e.TypescriptBundleSupportLoadScript=28]="TypescriptBundleSupportLoadScript",e[e.TypescriptHeliumCreateCanvasWait=66]="TypescriptHeliumCreateCanvasWait",e))(We||{});function I(e){void 0===fe&&(fe="function"==typeof f.alog),fe&&f.alog("[LynxJSSDK]"+e)}function Lt(e){void 0===he&&(he="function"==typeof f.report),he&&f.report("[LynxJSSDK]"+e)}var Je=/\d+/,b=class n{constructor(e){this.major=0,this.minor=0,this.revision=0,this.build=0,e=String(e),[this.major=0,this.minor=0,this.revision=0,this.build=0]=e.split(".").map(e=>{let t=Je.exec(e);return t&&t.length>0?+t[0]:0})}gt(e){return"string"==typeof e&&(e=new n(e)),this.major>e.major||!(this.major<e.major)&&(this.minor>e.minor||!(this.minor<e.minor)&&(this.revision>e.revision||!(this.revision<e.revision)&&(this.build>e.build||(this.build,e.build,!1))))}eq(e){return"string"==typeof e&&(e=new n(e)),this.major===e.major&&this.minor===e.minor&&this.revision===e.revision&&this.build===e.build}lt(e){return!this.eq(e)&&!this.gt(e)}gte(e){return this.eq(e)||this.gt(e)}lte(e){return this.eq(e)||this.lt(e)}},Ye=b,wt=new b("2.4"),Ut=new b("2.7"),kt=new b("2.9"),Ft=new b("2.12"),Bt=new b("2.14"),jt=0,Vt=10200,$t=10201,Gt=10299,Qt=10301,Wt=10500,Jt=10701,Yt=20100,Ht=20201,Kt=30100,Xt=30101,zt=30102,Zt=30103,er=30196,tr=30199,rr=30200,nr=30300,or=30302,ir=30303,sr=30304,ar=30305,lr=30400,pr=32101,cr=32102,ur=32103,dr=39800,mr=39900,_r=40101,fr=40102,hr=40199,gr=50101,yr=50102,Er=50201,vr=60001,xr=60100,Rr=60201,Sr=60301,br=69900,Nr=90101,Tr=90102,Ar=90103,Ir=90104,Mr=90800,Cr=99800,Or=99900,Pr=109900,Lr=110100,Dr=111101,wr=111102,Ur=120200,kr=130100,Fr=140100,Br=140200,qr=140300,jr=140401,Vr=149900,$r=160100,Gr=160101,Qr=160102,Wr=160200,Jr=190100,Yr=190200,Hr=190300,Kr=200101,Xr=220101,zr=220201,Zr=220202,en=220203,tn=220204,rn=220205,nn=220206,on=220207,sn=220301,an=229800,ln=990100,pn=990200;function E(e,t,r){let{originError:n,errorCode:i,errorLevel:o,runType:s=A}=r??{};f.error("The following error occurred in the JSRuntime:"),f.error(`${e?.message}
${e?.stack}`),e.cause=H(e.cause)?JSON.stringify(e.cause):e.cause;try{t.reportException(e,{...s,buildVersion:"unknown_version",versionCode:"unknown_version",errorCode:i,errorLevel:o})}catch(e){f.error(`reportError err:
`,e)}}function He(e,t,r=A,n,i){return E(e,t,{runType:r,originError:n,__sourcemap__release__:i.__sourcemap__release__})}function Ke({error:e,nativeApp:t,runType:r=A,rawError:n,__sourcemap__release__:i,getSourceMapRelease:o}){E(e,t,{originError:n,runType:r,__sourcemap__release__:i,getSourceMapRelease:o})}function On(e,t,r,n=A){return q(r)?Le("USER_ERROR",e,r,t,n):me}function Le(e="INTERNAL_ERROR",t,r,n,i){return function(...o){try{return r.apply(this,o)}catch(a){let o=`${t} 
${a.message}`;"onError"!==r.name&&"function"==typeof n.onError&&n.onError(`Card ${r.name} exec error:${o}
${a.stack}`,a);let s="INTERNAL_ERROR"===e?new R(o,a.stack):new x(o,a.stack);f.log(`wrapError-${t}`,s),E(s,n._nativeApp,{runType:i,__sourcemap__release__:n.__sourcemap__release__,getSourceMapRelease:n.getSourceMapRelease})}}}function Pn(e,t,r,n=A){return q(r)?Le("INTERNAL_ERROR",e,r,t,n):me}var V=class{constructor(e,t){this.getApp=e,this.getNativeApp=t,this.setSourceMapRelease=e=>{if(K(e)&&e.name===g.kGetSourceMapReleaseErrorName&&P(e.message)&&P(e.stack)){this.getNativeApp().__SetSourceMapRelease({name:e.name,message:e.message,stack:e.stack});return}I(`setSourceMapRelease failed with error: ${JSON.stringify(e)}`)},this.getSourceMapRelease=e=>{if(!this.getNativeApp().__GetSourceMapRelease(e))return this.getNativeApp().__GetSourceMapRelease(g.kDefaultSourceMapURL)},this.getApp=e,this.getNativeApp=t}rebind(e){this.getApp=e}},N=class{constructor(e){this._internal_callNativeModule=e,this._events=new Map}getEventsSize(e){return this._events.get(e)?.length}setCallNativeModule(e){this._internal_callNativeModule=e}addListener(e,t,r){let n=this._events.get(e);"keyboardstatuschanged"==e&&this._internal_callNativeModule&&this._internal_callNativeModule("LynxSetModule","switchKeyBoardDetect",[!0]),n?n.push({listener:t,context:r}):this._events.set(e,[{listener:t,context:r}])}removeListener(e,t){if("function"!=typeof t)throw Error("removeListener only takes instances of Function");let r=this._events.get(e),n=0;Array.isArray(r)&&r.some(e=>{if(t===e.listener)return!0;n++})&&r.splice(n,1),"keyboardstatuschanged"==e&&this._internal_callNativeModule&&this._internal_callNativeModule("LynxSetModule","switchKeyBoardDetect",[!1])}emit(e,t){let r=this._events.get(e);Array.isArray(r)&&r.forEach(e=>{let{listener:r,context:n}=e;"function"==typeof r&&r.apply(n||this,t)})}removeAllListeners(e){if("string"==typeof e){this._events.delete(e);return}this._events=new Map}trigger(e,t){let r=this._events.get(e);Array.isArray(r)&&("string"==typeof t&&(t=JSON.parse(t)),r.forEach(e=>{let{listener:r,context:n}=e;"function"==typeof r&&r.call(n||this,t)}))}toggle(e,...t){this.emit(e,t)}};function Xe(){return new N}var ne=class{constructor(){this._beforePublishEvent=new ge}},ge=class extends N{add(e,t,r){return super.addListener(e,t,r),this}remove(e,t){return super.removeListener(e,t),this}},$=N,oe=class{constructor(e){this._textInfoModule=void 0,this.getTextInfo=(e,t)=>(void 0===this._textInfoModule&&(this._textInfoModule=this._nativeModules.LynxTextInfoModule),this._textInfoModule&&this._textInfoModule.getTextInfo?this._textInfoModule.getTextInfo(e,t):{width:e.length}),this._nativeModules=e}},ie=class{constructor(e){this.resumeExposure=()=>{this._exposureModule.resumeExposure()},this.stopExposure=e=>{this._exposureModule.stopExposure(e)},this.setObserverFrameRate=e=>{this._exposureModule.setObserverFrameRate(e)},this._nativeModules=e,this._exposureModule=this._nativeModules.LynxExposureModule}},ye=class{constructor(e,t){this._selector=e,this._callback=t}invokeCallback(e){this._callback(e)}},Ee=class{constructor(e,t,r){this._id=e,this._intersectionObserverModule=t,this._manager=r,this._observationTargets=[],this._defaultMargins={left:0,right:0,top:0,bottom:0}}relativeTo(e,t){return this._intersectionObserverModule.relativeTo(this._id,e,t||this._defaultMargins),this}relativeToViewport(e){return this._intersectionObserverModule.relativeToViewport(this._id,e||this._defaultMargins),this}relativeToScreen(e){return this._intersectionObserverModule.relativeToScreen(this._id,e||this._defaultMargins),this}observe(e,t){this._observationTargets.push(new ye(e,t)),this._intersectionObserverModule.observe(this._id,e,this._observationTargets.length-1)}disconnect(){this._intersectionObserverModule.disconnect(this._id),this._manager.removeObserver(this._id)}invokeCallback(e,t){e<this._observationTargets.length&&this._observationTargets[e].invokeCallback(t)}},se=class{constructor(e){this._nativeModules=e,this._observerId=0,this._observers={},this._defaultOptions={thresholds:[0],initialRatio:0,observeAll:!1}}createIntersectionObserver(e,t){let r=this._nativeModules.IntersectionObserverModule,n=new Ee(this._observerId,r,this);return this._observers[this._observerId]=n,r.createIntersectionObserver(this._observerId,e,t||this._defaultOptions),this._observerId++,n}getObserver(e){return this._observers[e]}removeObserver(e){this._observers[e]=null}},L={onSetup:"lynx.performance.timing.onSetup",onUpdate:"lynx.performance.timing.onUpdate"},G=class{constructor(e,t){this._emitter=e,this._generatePipelineOptions=t.generatePipelineOptions,this._onPipelineStart=t.onPipelineStart,this._markTiming=t.markPipelineTiming,this._profileStart=t.profileStart,this._profileEnd=t.profileEnd,this._profileMark=t.profileMark,this._profileFlowId=t.profileFlowId,this._bindPipelineIdWithTimingFlag=t.bindPipelineIdWithTimingFlag}profileStart(e,t){this._profileStart(e,t)}profileEnd(){this._profileEnd()}profileMark(e,t){this._profileMark(e,t)}profileFlowId(){return this._profileFlowId()}addTimingListener(e){this._emitter.addListener(L.onSetup,e.onSetup,e),this._emitter.addListener(L.onUpdate,e.onUpdate,e)}removeTimingListener(e){this._emitter.removeListener(L.onSetup,e.onSetup),this._emitter.removeListener(L.onUpdate,e.onUpdate)}removeAllTimingListener(){this._emitter.removeAllListeners(L.onSetup),this._emitter.removeAllListeners(L.onUpdate)}_initializeAndStartPipeline(){let e=this._generatePipelineOptions();return e&&this._onPipelineStart(e.pipelineID),e}_checkAndBindTimingFlag(e,t){if(!e)return;let r="__lynx_timing_flag";t[r]&&(this._bindPipelineIdWithTimingFlag(e.pipelineID,t[r]),this._markTiming(e.pipelineID,"update_set_state_trigger"),e.needTimestamps=!0)}},ve=G,De=c.LynxJSBI,T=class n{constructor(e){for(let t in this._cachedFunctions={},e)Object.defineProperty(this,t,{get(){if(this._cachedFunctions[t])return this._cachedFunctions[t];let r=e[t];return"function"==typeof r&&(this._cachedFunctions[t]=r),r}})}static create(e){return new n(e)}};function ze(){return!0}function we(e,t,r){if(!ze())return c.Promise;{let{getPromise:n}=c;return"function"==typeof n?n({setTimeout:e,onUnhandled:t,clearTimeout:r}):c.Promise}}var fe,he,ae,Ze,D=class n{constructor(){this._bodyData=null}setBody(e){if(e instanceof n)this._bodyData=e._bodyData.clone;else{let t={bodyData:e,isArrayBuffer:!1};e instanceof ArrayBuffer?t.isArrayBuffer=!0:e instanceof DataView?(t.isArrayBuffer=!0,t.bodyData=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)):ArrayBuffer.isView(e)?(t.isArrayBuffer=!0,t.bodyData=e.buffer):globalThis.URLSearchParams&&e instanceof URLSearchParams&&(t.bodyData=e.toString()),this._bodyData=globalThis.CreateBodyNative(t)}}arrayBuffer(){return Promise.resolve(this._bodyData.arrayBuffer)}text(){return Promise.resolve(this._bodyData.text)}json(){return Promise.resolve(this._bodyData.json)}get bodyUsed(){return this._bodyData.bodyUsed}},Q=class n{constructor(e){if(this._headers_map=new Map,this[Ze]="Headers",null===e||"number"==typeof e)throw TypeError("Headers init with null/number");if(e instanceof n)for(let[t,r]of e)this.append(t,r);else Array.isArray(e)?e.forEach(([e,t])=>{this.append(e,Array.isArray(t)?t.join(" "):t)}):e&&Object.getOwnPropertyNames(e).forEach(t=>{let r=e[t];this.append(t,Array.isArray(r)?r.join(" "):r)})}[(Ze=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}*keys(){for(let[e,t]of this._headers_map)yield e}*values(){for(let[e,t]of this._headers_map)yield t}*entries(){for(let e of this._headers_map)yield e}has(e){return this._headers_map.has(e)}get(e){return this._headers_map.get(e)??null}set(e,t){this._headers_map.set(e,String(t))}append(e,t){let r=this.has(e)?`${this.get(e)}, ${t}`:t;this.set(e,r)}delete(e){this.has(e)&&this._headers_map.delete(e)}forEach(e,t){for(let[r,n]of this.entries())e.call(t,n,r,this)}},W=class n extends ${get aborted(){return this._aborted}get reason(){return this._reason}constructor(){super(),this._aborted=!1}get[Symbol.toStringTag](){return"[object AbortSignal]"}dispatchEvent(e){"abort"===e.type&&(this._aborted=!0,this._reason=e.reason,"function"==typeof this.onabort&&this.onabort.call(this,e)),super.emit(e.type,e)}addEventListener(e,t){super.addListener(e,t)}static __create(){return new n}},Ue=class{get signal(){return this._signal}constructor(){this._signal=W.__create()}abort(e){let t=e;void 0===t&&((t=Error("This operation was aborted")).name="AbortError");let r={type:"abort",reason:t};this.signal.dispatchEvent(r)}get[Symbol.toStringTag](){return"[object AbortController]"}};function Re(e){return class e extends D{get url(){return this._url}get headers(){return this._headers}get method(){return this._method}get signal(){return this._signal}get lynxExtension(){return this._lynxExtension}constructor(t,r){if(super(),r=r||{},t instanceof e){if(t.bodyUsed)throw TypeError("Already read");this._url=t.url,r.headers||(this._headers=new Q(t.headers)),this._method=t.method,this._signal=t.signal}else this._url=String(t);if((r.headers||!this.headers)&&(this._headers=new Q(r.headers)),this._method=r.method||this.method||"GET",this._method=this._method.toUpperCase(),("GET"===this.method||"HEAD"===this.method)&&r.body)throw TypeError("Body not allowed for GET or HEAD requests");"u">typeof r.signal&&(this._signal=r.signal),this._signal=this._signal||W.__create(),this._lynxExtension=r.lynxExtension||{},this._headers.get("Content-Type")||("string"==typeof r.body?this._headers.set("Content-Type","text/plain;charset=UTF-8"):globalThis.URLSearchParams&&r.body instanceof URLSearchParams?this._headers.set("Content-Type","application/x-www-form-urlencoded;charset=UTF-8"):r.body instanceof ArrayBuffer||this._headers.set("Content-Type","text/plain;charset=UTF-8")),this.setBody(r.body)}clone(){let t=new e(this,{method:this.method});return t.setBody(this),t}}}function Se(e){return class e extends D{get url(){return this._url}get status(){return this._status}get statusText(){return this._statusText}get ok(){return this._ok}get headers(){return this._headers}get lynxExtension(){return this._lynxExtension}constructor(e,t){if(super(),t=t||{},this._status=void 0===t.status?200:t.status,this._status<200||this._status>599)throw RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this._ok=this._status>=200&&this._status<300,this._statusText=void 0===t.statusText?"":""+t.statusText,this._headers=new Headers(t.headers),this._url=t.url||"",this._lynxExtension=t.lynxExtension||{},this.setBody(e)}clone(){let t=new e(null,{status:this._status,statusText:this._statusText,headers:new Headers(this._headers),url:this._url});return t.setBody(this),t}}}function Fe(e){return/^(?:(?:https?|ftp):)?\/\/(?:(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4])|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)*[a-z\u00a1-\uffff]{2,}\.?)(?::\d{2,5})?(?:[/?#]\S*)?$/.test(e)}var Be=class{_url;_searchParamsInstance=null;constructor(e,t){let r=null;if(!t||Fe(e))this._url=e,this._url.endsWith("/")||(this._url+="/");else{if("string"==typeof t){if(!Fe(r=t))throw TypeError(`Invalid base URL: ${r}`)}else r=t.toString();r.endsWith("/")&&(r=r.slice(0,r.length-1)),e.startsWith("/")||(e=`/${e}`),r.endsWith(e)&&(e=""),this._url=`${r}${e}`}}get href(){return this.toString()}get searchParams(){return null==this._searchParamsInstance&&(this._searchParamsInstance=new URLSearchParams),this._searchParamsInstance}toJSON(){return this.toString()}toString(){if(null===this._searchParamsInstance)return this._url;let e=this._searchParamsInstance.toString(),t=this._url.indexOf("?")>-1?"&":"?";return this._url+t+e}};function To(e){let t="__URLSearchParams__";function r(e){(e=e||"")instanceof URLSearchParams&&(e=e.toString()),this[t]=a(e)}let n=r.prototype;function i(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function o(e){return e.replace(/[ +]/g,"%20").replace(/(%[a-f0-9]{2})+/gi,function(e){return decodeURIComponent(e)})}function s(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return iterable&&(t[Symbol.iterator]=function(){return t}),t}function a(e){var t={};if("object"==typeof e){if(u(e))for(var r=0;r<e.length;r++){var n=e[r];if(u(n)&&2===n.length)l(t,n[0],n[1]);else throw TypeError("Failed to construct 'URLSearchParams': Sequence initializer must only contain pair elements")}else for(var i in e)e.hasOwnProperty(i)&&l(t,i,e[i])}else{0===e.indexOf("?")&&(e=e.slice(1));for(var s=e.split("&"),a=0;a<s.length;a++){var c=s[a],h=c.indexOf("=");-1<h?l(t,o(c.slice(0,h)),o(c.slice(h+1))):c&&l(t,o(c),"")}}return t}function l(e,t,r){var n="string"==typeof r?r:null!=r&&"function"==typeof r.toString?r.toString():JSON.stringify(r);c(e,t)?e[t].push(n):e[t]=[n]}function u(e){return!!e&&"[object Array]"===Object.prototype.toString.call(e)}function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}n.append=function(e,r){l(this[t],e,r)},n.delete=function(e){delete this[t][e]},n.get=function(e){var r=this[t];return this.has(e)?r[e][0]:null},n.getAll=function(e){var r=this[t];return this.has(e)?r[e].slice(0):[]},n.has=function(e){return c(this[t],e)},n.set=function(e,r){this[t][e]=[""+r]},n.toString=function(){var e,r,n,o,s=this[t],a=[];for(r in s)for(n=i(r),e=0,o=s[r];e<o.length;e++)a.push(n+"="+i(o[e]));return a.join("&")},n.polyfill=!0,n[Symbol.toStringTag]="URLSearchParams",n.forEach=function(e,t){var r=a(this.toString());Object.getOwnPropertyNames(r).forEach(function(n){r[n].forEach(function(r){e.call(t,r,n,this)},this)},this)},n.sort=function(){var e,t,r,n=a(this.toString()),i=[];for(e in n)i.push(e);for(i.sort(),t=0;t<i.length;t++)this.delete(i[t]);for(t=0;t<i.length;t++){var o=i[t],s=n[o];for(r=0;r<s.length;r++)this.append(o,s[r])}},n.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),s(e)},n.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),s(e)},n.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),s(e)},n[Symbol.iterator]=n.entries,Object.defineProperty(n,"size",{get:function(){var e=a(this.toString());if(n===this)throw TypeError("Illegal invocation at URLSearchParams.invokeGetter");return Object.keys(e).reduce(function(t,r){return t+e[r].length},0)}}),e.URLSearchParams=e.URLSearchParams??r}var g=class _BaseApp{constructor(e,t){this.dataTypeSet=new Set(["string","number","array","object","boolean","null","function"]),this.setSourceMapRelease=e=>{this.Reporter.setSourceMapRelease(e)},this.getSourceMapRelease=e=>this.Reporter.getSourceMapRelease(e),this.setupGetTextInfoApi=()=>{this._apiList.getTextInfo=(e,t)=>this._textInfoManager.getTextInfo(e,t)},this.setupExposureApi=()=>{this._apiList.resumeExposure=()=>{this._exposureManager.resumeExposure()},this._apiList.stopExposure=e=>{this._exposureManager.stopExposure(e||{sendEvent:!0})},this._apiList.setObserverFrameRate=e=>{this._exposureManager.setObserverFrameRate(e||{forPageRect:20,forExposureCheck:20})}},this.requestAnimationFrame=e=>this._nativeApp.requestAnimationFrame(e),this.cancelAnimationFrame=e=>this._nativeApp.cancelAnimationFrame(e),this.initBase(e),t?t.transferSingletonData(this,this.__internal__callNativeModule.bind(this)):this.initExtra(e)}initExtra(e){let{lynx:t}=e;this.modules={},this._lazyCallableModules=new Map,this._nativeApp=T.create(this._nativeApp),this.sharedConsole=X(`runtimeId:${this.nativeAppId}`),this.dynamicComponentExports={},this.loadedDynamicComponentsSet=new Set,this._lazyCallableModules=new Map,this.Reporter=new V(()=>this,()=>this.nativeApp),this.GlobalEventEmitter=new $(this.__internal__callNativeModule.bind(this)),this._intersectionObserverManager=new se(this.NativeModules),this._exposureManager=new ie(this.NativeModules),this.setupExposureApi(),this._aopManager=new ne,this.beforePublishEvent=this._aopManager._beforePublishEvent,this.performance=new ve(this.GlobalEventEmitter,this.nativeApp);let r=this.setupPromise(this.nativeApp.setTimeout,this.nativeApp.clearTimeout);this.lynx=this.createLynx(t,r),this.setupJSModule(),this.setupIntersectionApi(),this.setupFetchAPI(r)}initBase(e){let{nativeApp:t,params:r}=e;this.nativeAppId=t.id,this._params=r,this._nativeApp=t,this.NativeModules=t.nativeModuleProxy,this.LynxUIMethodModule=t.nativeModuleProxy.LynxUIMethodModule,this.LynxTestModule=t.nativeModuleProxy.LynxTestModule,this.LynxResourceModule=t.nativeModuleProxy.LynxResourceModule,this.LynxAccessibilityModule=t.nativeModuleProxy.LynxAccessibilityModule,this.setTimeout=t.setTimeout,this.setInterval=t.setInterval,this.clearInterval=t.clearInterval,this.clearTimeout=t.clearTimeout,this._apiList={},this._textInfoManager=new oe(this.NativeModules),this.setupGetTextInfoApi()}static{this.kDefaultSourceMapURL="default"}static{this.kGetSourceMapReleaseErrorName=Pe}set __sourcemap__release__(e){let t=Error();t.name="LynxGetSourceMapReleaseError",t.message=e,t.stack=`at <anonymous> (${_BaseApp.kDefaultSourceMapURL}:1:1)`,this.setSourceMapRelease(t)}destroy(){this._nativeApp=null,this._params=null,this._lazyCallableModules=null,this.GlobalEventEmitter=null}registerModule(e,t){this._lazyCallableModules[e]=t}getJSModule(e){return this._lazyCallableModules[e]}setupJSModule(){this.registerModule("GlobalEventEmitter",this.GlobalEventEmitter),this.registerModule("Reporter",this.Reporter)}setupFetchAPI(e){this._createResponseClass=Se,this._createRequestClass=Re,this._RequestClass=c.Request??Re(e),this._ResponseClass=c.Response??Se(e),c.Request||(c.Request=this._RequestClass),c.Response||(c.Response=this._ResponseClass)}__internal__callNativeModule(e,t,r){let n=this.nativeApp.nativeModuleProxy[e];if(n){let e=n[t];e&&Function.prototype.apply.call(e,void 0,r)}}get nativeApp(){return this._nativeApp}set nativeApp(e){this._nativeApp=e}get params(){return this._params}set apiList(e){this._apiList={...this._apiList,...e}}setupIntersectionApi(){let e=this;this._apiList.createIntersectionObserver=function(t,r){let{componentId:n=""}=t;return e._intersectionObserverManager.createIntersectionObserver(n,r)},this.lynx.createIntersectionObserver=this._apiList.createIntersectionObserver}onIntersectionObserverEvent(e,t,r){let n=this._intersectionObserverManager.getObserver(e);n&&n.invokeCallback(t,r)}reportError(e){return this.lynx.reportError(e)}handleError(e,t,r){E(e,this.nativeApp,{originError:t,getSourceMapRelease:this.getSourceMapRelease,errorLevel:r})}handleUserError(e,t,r,n){let{message:i,name:o,stack:s}=e||{};i||({message:i,name:o,stack:s}=Error(JSON.stringify(e)));let a=new x(n?`${n} ${o}: ${i}`:`${o}: ${i}`,s);a.cause=t,this.handleError(a,e,r)}handleInternalError(e,t){let{message:r,name:n,stack:i}=e||{};r||({message:r,name:n,stack:i}=Error(JSON.stringify(e)));let o=new R(`${n}: ${r}`,i);o.cause=t,this.handleError(o,e)}getBoolEnv(e){return this.nativeApp.getEnv(e)?.toLowerCase()==="true"}static{this._$factoryCache={}}_$executeInit(e,{path:t,entryName:r}){let n;if(e&&e.init)n=e.init.bind(e);else if(c.initBundle)n=c.initBundle.bind(c.initBundle),delete c.initBundle;else throw new x(`load failed. path:${t},entryName:${r}`);try{nativeConsole.profile(`running ${t} init`);let e=n({tt:this});return _BaseApp._$factoryCache[t]=n,e}finally{nativeConsole.profileEnd()}}_$executeJSON(e,{path:t}){let r=JSON.parse(e),n=()=>r;return _BaseApp._$factoryCache[t]=n,r}requireModule(e,t){let r=_BaseApp._$factoryCache[e];if(r)return this._$executeInit({init:r},{path:e,entryName:t});if(e.split("?")[0].endsWith(".json")){let r=this.nativeApp.readScript(e,{dynamicComponentEntry:t??S});return this._$executeJSON(r,{path:e,entryName:t})}let n=this.nativeApp.loadScript(e,t);return this._$executeInit(n,{path:e,entryName:t})}requireModuleAsync(e,t){let r=_BaseApp._$factoryCache[e];if(r){t(null,this._$executeInit({init:r},{path:e}));return}if(e.split("?")[0].endsWith(".json")){let r=this.nativeApp.readScript(e);t(null,this._$executeJSON(r,{path:e}));return}let n=Error();this.nativeApp.loadScriptAsync(e,(r,i)=>{if(r)return n.message=r,t(n);try{return t(null,this._$executeInit(i,{path:e}))}catch(e){return t(e)}})}require(path,params){let that=this;if("string"!=typeof path)throw Error("require args must be a string");let entryName=params&&params.dynamicComponentEntry?params.dynamicComponentEntry:S;that.modules[entryName]||(that.modules[entryName]={});let module=that.modules[entryName][path];if(!module){try{let tt=that,jsContent=that._nativeApp.readScript(path,{dynamicComponentEntry:entryName});eval(jsContent),module=that.modules[entryName][path]}catch(n){this.handleError(new x(`eval user: ${that._nativeApp.id} error: ${n.message}`,n.stack),n)}if(!that.modules[entryName][path])throw Error(`module ${path} in ${entryName} is not defined in card: ${that._nativeApp.id}`)}if(!module.hasRun){let{factory:n}=module,e={exports:{}},t;if(module.hasRun=!0,module.exports=e.exports,"function"==typeof n){let r=rt.call(that,path),o=that;t=n(r,e,e.exports,that.Card.bind(o),that.setTimeout,that.setInterval,that.clearInterval,that.clearTimeout,that.NativeModules,that._apiList,that.sharedConsole,that.Component.bind(o),params?.ReactLynx,that.nativeAppId,that.Behavior.bind(o),De,that.lynx,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,that.lynx.fetch,void 0,void 0,void 0,void 0,void 0,void 0,that.requestAnimationFrame,that.cancelAnimationFrame),module.exports=e.exports||t}}return module.exports}define(e,t,r){r=r||S,this.modules[r]||(this.modules[r]={}),this.modules[r][e]={hasRun:!1,factory:t.bind(this)}}callFunction(e,t,r){try{let n=this.getJSModule(e);"function"==typeof n[t]&&n[t].apply(n,r)}catch(r){this.handleUserError(r,{by:`${e}.${t}`})}}saveDynamicComponentExports(e,t){this.dynamicComponentExports[e]=t}getDynamicComponentExports(e){return this.dynamicComponentExports[e]}Component(...e){}Card(...e){}Behavior(...e){}wrapReport(e,t){let r=this;function n(e){return function(...n){try{return e.apply(this,n)}catch(e){r.handleUserError(e,{by:t})}}}return function(t,...r){return Function.prototype.apply.call(e,void 0,[n(t),...r])}}setupPromise(e,t){let r=we(e,(e,t)=>{try{t&&(t.stack||(t=Error(JSON.stringify(t))),t.name="unhandled rejection",this.handleUserError(t))}catch{}},t);return this.resolvedPromise=r.resolve(),r}};function et(e){let t=e.match(/(.*)\/([^/]+)?$/);return t?.[1]?t[1]:"./"}function rt(e){let t=this,r=et(e);return function(e){let n=[],i=`${r}/${e}`.split("/"),o=i.length;if("string"!=typeof e)throw Error("require args must be a string");for(let r=0;r<o;++r){let s=i[r];if(""!==s&&"."!==s){if(".."===s){if(0===n.length)throw Error(`can't find module ${e} in app: ${t._nativeApp.id}`);n.pop()}else r+1<o&&".."===i[r+1]?r++:n.push(s)}}let s=n.join("/");return s.endsWith(".js")||(s+=".js"),t.require(s)}}var nt=(e=>{})(0),qe=(e=>(e[e.NotCanceled=0]="NotCanceled",e[e.CanceledByEventHandler=1]="CanceledByEventHandler",e[e.CanceledByDefaultEventHandler=2]="CanceledByDefaultEventHandler",e[e.CanceledBeforeDispatch=3]="CanceledBeforeDispatch",e))(qe||{}),ot=(e=>(e[e.CoreContext=0]="CoreContext",e[e.DevTool=1]="DevTool",e[e.JSContext=2]="JSContext",e[e.UIContext=3]="UIContext",e))(ot||{}),je=(e=>(e.EVENT_SET_SESSION_STORAGE="__SetSessionStorageItem",e.EVENT_GET_SESSION_STORAGE="__GetSessionStorageItem",e.EVENT_SUBSCRIBE_SESSION_STORAGE="__SubscribeSessionStorage",e.EVENT_UNSUBSCRIBE_SESSION_STORAGE="__UnSubscribeSessionStorage",e))(je||{}),it=(e=>(e[e.START=0]="START",e[e.PLAY=1]="PLAY",e[e.PAUSE=2]="PAUSE",e[e.CANCEL=3]="CANCEL",e[e.FINISH=4]="FINISH",e))(it||{}),le=class n{static{this.count=0}constructor(e){this.effect=e,this.id="__lynx-inner-js-animation-"+n.count++}cancel(){this.effect.target.cancelAnimate(this)}pause(){this.effect.target.pauseAnimate(this)}play(){this.effect.target.playAnimate(this)}},pe=class{constructor(e,t,r){this.target=e,this.keyframes=t,this.options=r}},J=class{constructor(e,t,r){this._root=e,this._idSelector="#"+t,this._lynx=r,this._element=void 0}ensureElement(){this._element||(this._element=this._lynx.createElement(this._root,this._idSelector))}animate(e,t){this.ensureElement();let r=new le(new pe(this,e,t));return this._element.animate(0,r.id,e,t),r}playAnimate(e){this._element.animate(1,e.id,void 0,void 0)}pauseAnimate(e){this._element.animate(2,e.id,void 0,void 0)}cancelAnimate(e){this._element.animate(3,e.id,void 0,void 0)}finishAnimate(e){this._element.animate(4,e.id,void 0,void 0)}setProperty(e,t){if(this.ensureElement(),"string"==typeof e&&"string"==typeof t)this._element.setProperty({[e]:t});else if("object"==typeof e)this._element.setProperty(e);else throw Error(`setProperty's param must be string or object. While current type is ${typeof e} and ${typeof t}.`)}},be=J,Ve=(e=>(e[e.ID_SELECTOR=0]="ID_SELECTOR",e[e.REF_ID=1]="REF_ID",e[e.UNIQUE_ID=2]="UNIQUE_ID",e))(Ve||{}),Ne=(e=>(e[e.SUCCESS=0]="SUCCESS",e[e.UNKNOWN=1]="UNKNOWN",e[e.NODE_NOT_FOUND=2]="NODE_NOT_FOUND",e[e.METHOD_NOT_FOUND=3]="METHOD_NOT_FOUND",e[e.PARAM_INVALID=4]="PARAM_INVALID",e[e.SELECTOR_NOT_SUPPORTED=5]="SELECTOR_NOT_SUPPORTED",e[e.NO_UI_FOR_NODE=6]="NO_UI_FOR_NODE",e))(Ne||{}),M=class n{constructor(e,t,r){this._component=e,this._taskQueue=t,this._native_proxy=r,this._fire_immediately=!1,this._root_unique_id=void 0}static fromQuery(e,t){return new n(t??e._component,e._taskQueue.slice(),e._native_proxy)}static newEmptyQuery(e,t){return new n(t??"",[],e)}commitTask(e){let t=n.fromQuery(this,this._component);if(t._taskQueue.push(e),this._fire_immediately){t.exec();return}return t}in(e){return e.createSelectorQuery(this)}select(e){return new w(this,{type:0,identifier:e,component_id:this._component,root_unique_id:this._root_unique_id,first_only:!0})}selectAll(e){return new w(this,{type:0,identifier:e,component_id:this._component,root_unique_id:this._root_unique_id,first_only:!1})}selectReactRef(e){if(this._taskQueue.length){let e="selectReactRef() should be called before any other selector query methods";nativeConsole.warn(e);let t=Error(e);E(new te(e,t.stack),this._native_proxy.nativeApp);return}return this._fire_immediately=!0,new w(this,{type:1,identifier:e,component_id:this._component,root_unique_id:this._root_unique_id,first_only:!0})}selectRoot(){return this.select("")}selectUniqueID(e){return new w(this,{type:2,identifier:e.toString(),component_id:this._component,root_unique_id:this._root_unique_id,first_only:!0})}exec(){for(let e=0;e<this._taskQueue.length;++e)this._taskQueue[e](this._native_proxy)}setRoot(e){return this._root_unique_id=Number(e),this}},w=class{static{this.nodePool={}}constructor(e,t){this._nodeSelectToken=t,this._selectorQuery=e}invoke(e){let t=t=>{let r=t=>{0===t.code?e.success&&e.success(t.data):e.fail&&e.fail(t)};if(!this._nodeSelectToken.first_only){r({code:5,data:"selectAll not supported for invoke method"});return}t.nativeApp.invokeUIMethod(this._nodeSelectToken.type,this._nodeSelectToken.identifier,this._nodeSelectToken.component_id,e.method,e.params??{},r,this._nodeSelectToken.root_unique_id)};return this._selectorQuery.commitTask(t)}path(e){let t=t=>{let r=t=>{e&&e(t.data,t.status)};t.nativeApp.getPathInfo(this._nodeSelectToken.type,this._nodeSelectToken.identifier,this._nodeSelectToken.component_id,this._nodeSelectToken.first_only,r,this._nodeSelectToken.root_unique_id)};return this._selectorQuery.commitTask(t)}fields(e,t){let r=r=>{let n=n=>{if(e.query){let t=t=>{t.query=M.newEmptyQuery(r),t.query.setRoot(t.unique_id.toString()),e.unique_id||delete t.unique_id};if(this._nodeSelectToken.first_only){let e=n.data;e&&t(e)}else for(let e of n.data)t(e)}t&&t(n.data,n.status)},i=[];for(let t in e){if("query"==t&&!0==e[t]&&!e.unique_id){i.push("unique_id");continue}e[t]&&i.push(t)}r.nativeApp.getFields(this._nodeSelectToken.type,this._nodeSelectToken.identifier,this._nodeSelectToken.component_id,this._nodeSelectToken.first_only,i,n,this._nodeSelectToken.root_unique_id)};return this._selectorQuery.commitTask(r)}setNativeProps(e){let t=t=>{t.nativeApp.setNativeProps(this._nodeSelectToken.type,this._nodeSelectToken.identifier,this._nodeSelectToken.component_id,this._nodeSelectToken.first_only,e,this._nodeSelectToken.root_unique_id)};return this._selectorQuery.commitTask(t)}},U=class n{constructor(e,t,r,i){this.getNativeApp=e,this.getApp=t,this.Promise=r,this.getNativeLynx=i,this.setTimeout=this.getApp().wrapReport(this.getNativeApp().setTimeout,"setTimeout Error"),this.setInterval=this.getApp().wrapReport(this.getNativeApp().setInterval,"setInterval Error"),this.clearInterval=this.getNativeApp().clearInterval,this.clearTimeout=this.getNativeApp().clearTimeout,this.resumeExposure=this.getApp()._apiList.resumeExposure,this.requireModule=(e,t)=>{if(this.requireModule.cache[e])return this.requireModule.cache[e];let r=this.getApp().requireModule(e,t);return this.requireModule.cache[e]=r,r},this.requireModuleAsync=(e,t)=>{if(t??=e=>{e&&this.getApp().handleUserError(e)},this.requireModuleAsync.cache[e]){t(null,this.requireModuleAsync.cache[e]);return}this.getApp().requireModuleAsync(e,(r,i)=>{r||(this.requireModuleAsync.cache[e]=i),t(r,i)})},this.createElement=(e,t)=>this.getNativeLynx().createElement(e,t),this.getElementById=e=>new be("",e,this),this.reportError=(e,t)=>{let r;if(K(e))r=e;else{let t;r=Error(t="string"==typeof e?e:JSON.stringify(e))}let{level:i="error"}=t||{},o="warning"===i?2:1;this.getApp().handleUserError(r,void 0,o)},this.registerModule=(e,t)=>this.getApp().registerModule(e,t),this.getJSModule=e=>this.getApp().getJSModule(e),this.getTextInfo=this.getApp()._apiList.getTextInfo,this.addFont=(e,t)=>{if(!H(e))throw Error("The first argument must be object type");if(!P(e["font-family"])||!P(e.src))throw Error("The font value must have font-family and src");if(!q(t))throw Error("The second argument must be function type");this.getNativeLynx().addFont(e,t)},this.stopExposure=this.getApp()._apiList.stopExposure,this.setObserverFrameRate=this.getApp()._apiList.setObserverFrameRate,this.performance=this.getApp().performance,this.beforePublishEvent=this.getApp()._aopManager._beforePublishEvent,this.setSessionStorageItem=(e,t)=>{this.dispatchSessionStorageEvent({type:"__SetSessionStorageItem",data:{key:e,value:t}})},this.getSessionStorageItem=(e,t)=>{this.getNativeApp().getSessionStorageItem(e,t)},this.subscribeSessionStorage=(e,t)=>{let r=n.__registerSharedDataCounter++;return this.getNativeApp().subscribeSessionStorage(e,r,t),r},this.unsubscribeSessionStorage=(e,t)=>{this.dispatchSessionStorageEvent({type:"__UnSubscribeSessionStorage",data:{key:e,listenerId:t}})},this.getDevtool=this.getNativeLynx().getDevtool,this.getCoreContext=this.getNativeLynx().getCoreContext,this.getJSContext=this.getNativeLynx().getJSContext,this.getUIContext=this.getNativeLynx().getUIContext,this.getCustomSectionSync=this.getNativeLynx().getCustomSectionSync,this.accessibilityAnnounce=this.getNativeApp().nativeModuleProxy.LynxAccessibilityModule?.accessibilityAnnounce,this.requestResourcePrefetch=this.getNativeApp().nativeModuleProxy.LynxResourceModule?.requestResourcePrefetch,this.cancelResourcePrefetch=this.getNativeApp().nativeModuleProxy.LynxResourceModule?.cancelResourcePrefetch,this.setSharedData=(e,t)=>{c.sharedData[e]=t;let r={};r[e]=t,c.shareDataSubject.notifyDataChange(r)},this.getSharedData=e=>c.sharedData[e],this.registerSharedDataObserver=e=>c.shareDataSubject.registerObserver(e),this.removeSharedDataObserver=e=>c.shareDataSubject.removeObserver(e),this.triggerLepusGlobalEvent=(e,t)=>this.getNativeApp().triggerLepusGlobalEvent(e,t),this.reload=(e,t)=>{this.getNativeLynx().reload(e,t)},this.fetchDynamicComponent=(e,t,r,i)=>this.getNativeLynx().fetchDynamicComponent(e,t,r,i),this.QueryComponent=(e,t)=>{let r=()=>{t({code:0,data:{url:e,sync:!0,error_message:"",mode:"cache"},detail:{schema:e,cache:!1,errMsg:""}})};if(this.getApp().loadedDynamicComponentsSet.has(e)){r();return}let i=i=>{!0===i.__hasReady?(c.loadDynamicComponent(this.getApp(),e),r()):t(i)};this.getNativeLynx().QueryComponent(e,i)},this.loadDynamicComponent=(e,t,r={})=>new this.Promise((i,o)=>{let s=[],a;if(Array.isArray(e)?(s=e,a=t):"string"==typeof t?(s=[e],a=t):(a=e,r=t),this.getApp().loadedDynamicComponentsSet.has(a)){i({code:0,data:{url:a,sync:!1,error_message:"",mode:"normal"},detail:{schema:a,cache:!1,errMsg:""}});return}this.getNativeLynx().fetchDynamicComponent(a,r,e=>{e&&0==e.code?i(e):o(e)},s)}),this.fetch=(e,t)=>new this.Promise((r,i)=>{let o=new(this.getApp())._RequestClass(e,t),s=o.signal;if(s.aborted)return i(s.reason);s.addEventListener("abort",e=>{i(s.reason)});let a={method:o.method,url:o.url,origin:this.getNativeApp().__pageUrl,headers:Object.fromEntries(o.headers.entries()),body:o._bodyData.arrayBuffer,lynx:o.lynxExtension};this.getApp().NativeModules.LynxFetchModule.fetch(a,e=>{s.aborted||r(new(this.getApp())._ResponseClass(e.body,e))},e=>{s.aborted||i(TypeError(e.message))})}),this.createSelectorQuery=()=>M.newEmptyQuery({nativeApp:this.getNativeApp(),lynx:this}),this.requestAnimationFrame=e=>this.getNativeApp().requestAnimationFrame(e),this.cancelAnimationFrame=e=>this.getNativeApp().cancelAnimationFrame(e),this.__addReporterCustomInfo=e=>{this.getNativeApp().__addReporterCustomInfo(e)},this.init(void 0)}static{this.__registerSharedDataCounter=0}rebind(e){this.init(e)}init(e){if(e)this.getApp=e,this.__globalProps=this.getNativeLynx().__globalProps||{},this.__presetData=this.getNativeLynx().__presetData||{};else{let e={};this.requireModule.cache=e,this.requireModuleAsync.cache=e,this.__globalProps=this.getNativeLynx().__globalProps||{},this.__presetData=this.getNativeLynx().__presetData||{},this._switches={}}}dispatchSessionStorageEvent(e){0!=this.getCoreContext().dispatchEvent(e)&&this.getJSContext().dispatchEvent(e)}},ce=class n{constructor(e,t,r,n,i){this._selectorName=r,n&&n.length>0?this._ancestorSelectorNames=[...n]:this._ancestorSelectorNames=[],this._rootComponentId=t,this._proxy=e,this._isCallByRefId=i}getNodeRef(e){return new n(this._proxy,this._rootComponentId,e,[...this._ancestorSelectorNames,this._selectorName],this._isCallByRefId)}invoke(e){this._proxy.nativeLynxUIModule.invokeUIMethod(this._rootComponentId,[...this._ancestorSelectorNames,this._selectorName],e.method,Object.assign({_isCallByRefId:this._isCallByRefId},e.params),t=>{0===t.code?e.success&&e.success(t.data):e.fail&&e.fail(t)})}scrollIntoView(e=!0){let t={};if("boolean"==typeof e)t=e?{behavior:"auto",block:"start",inline:"nearest"}:{behavior:"auto",block:"end",inline:"nearest"};else if("object"==typeof e)t=e;else throw Error("scrollIntoView only support boolean or object");this.invoke({method:"scrollIntoView",params:{scrollIntoViewOptions:t},fail(e){nativeConsole.error("NodeRef.scrollIntoView failed",`ErrorCode: ${e.code}`)}})}},k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Y=new Uint8Array(256);for(let n=0;n<k.length;n++)Y[k.charCodeAt(n)]=n;function os(e){var t,r=new Uint8Array(e),n=r.length,i="";for(t=0;t<n;t+=3)i+=k[r[t]>>2],i+=k[(3&r[t])<<4|r[t+1]>>4],i+=k[(15&r[t+1])<<2|r[t+2]>>6],i+=k[63&r[t+2]];return n%3==2?i=i.substring(0,i.length-1)+"=":n%3==1&&(i=i.substring(0,i.length-2)+"=="),i}function is(e){let t=.75*e.length,r=e.length,n,i=0,o,s,a,l;"="===e[e.length-1]&&(t--,"="===e[e.length-2]&&t--);let u=new ArrayBuffer(t),c=new Uint8Array(u);for(n=0;n<r;n+=4)o=Y[e.charCodeAt(n)],s=Y[e.charCodeAt(n+1)],a=Y[e.charCodeAt(n+2)],l=Y[e.charCodeAt(n+3)],c[i++]=o<<2|s>>4,c[i++]=(15&s)<<4|a>>2,c[i++]=(3&a)<<6|63&l;return u}var Te=class{transferSingletonData(e,t){e.nativeApp=this.nativeApp,e.sharedConsole=this.sharedConsole,e.dynamicComponentExports=this.dynamicComponentExports,e.loadedDynamicComponentsSet=this.loadedDynamicComponentsSet,e._intersectionObserverManager=this.intersectionObserverManager,e._exposureManager=this.exposureManager,e._textInfoManager=this.textInfoManager,this.globalEventEmitter.setCallNativeModule(t),e.GlobalEventEmitter=this.globalEventEmitter,e._aopManager=this.aopManager,e.performance=this.performance,e.modules=this.modules,e._lazyCallableModules=this.lazyCallableModules,e.lynx=this.lynx,this.lynx.rebind(()=>e),e._apiList=this.apiList,this.Reporter.rebind(()=>e),e.resolvedPromise=this.resolvedPromise}},F=class extends g{constructor(e,t){super(e,void 0),this.fillSingletonData();try{t.srcName&&(delete this.lynx.requireModule.cache[t.srcName],delete g._$factoryCache[t.srcName],this.lynx.requireModule(t.srcName,S),this.dataTypeSet.add("undefined"))}catch(e){this.handleUserError(e)}}createLynx(e,t){let r=T.create(e);return new U(()=>this.nativeApp,()=>this,t,()=>r)}fillSingletonData(){this.singletonData=new Te,this.singletonData.nativeApp=this._nativeApp,this.singletonData.sharedConsole=this.sharedConsole,this.singletonData.dynamicComponentExports=this.dynamicComponentExports,this.singletonData.loadedDynamicComponentsSet=this.loadedDynamicComponentsSet,this.singletonData.intersectionObserverManager=this._intersectionObserverManager,this.singletonData.exposureManager=this._exposureManager,this.singletonData.textInfoManager=this._textInfoManager,this.singletonData.globalEventEmitter=this.GlobalEventEmitter,this.singletonData.aopManager=this._aopManager,this.singletonData.performance=this.performance,this.singletonData.modules=this.modules,this.singletonData.lazyCallableModules=this._lazyCallableModules,this.singletonData.lynx=this.lynx,this.singletonData.apiList=this._apiList,this.singletonData.Reporter=this.Reporter,this.singletonData.resolvedPromise=this.resolvedPromise}},ue=class extends g{createLynx(e,t){let r=T.create(e);return new U(()=>this.nativeApp,()=>this,t,()=>r)}};function ks(e,t,r){let{id:n}=e,{cardType:i}=t;I(`load card native app id: ${n}`);let o=!0,s;try{if(s="standalone"==i?new F({nativeApp:e,params:t,lynx:r},t):new ue({nativeApp:e,params:t,lynx:r}),c.currentAppId=n,c.multiApps[n]=s,"standalone"===i)return e.setCard(s),!0;I(`load card native app load app-service.js params.bundleSupportLoadScript ${t.bundleSupportLoadScript}`),o=!0,s.lynx.requireModuleAsync(j,(t,r)=>{t?s.handleUserError(t):s.lynx._switches.allowUndefinedInNativeDataTypeSet&&s.dataTypeSet.add("undefined"),e.setCard(s)})}catch(t){st(e,t),o=!1}return o}function Fs(e){I(`destroy ${e}`),c.multiApps[e].destroy(),delete c.multiApps[e]}function Bs(e){I(`callDestroyLifetimeFun ${e}`),c.multiApps[e].callDestroyLifetimeFun()}function qs(e,t){if(e.loadedDynamicComponentsSet.has(t))return e.getDynamicComponentExports(t);let r=c.globDynamicComponentEntry;c.globDynamicComponentEntry=t;try{delete e.lynx.requireModule.cache[j],delete g._$factoryCache[j];let r=e.lynx.requireModule(j,t);return e.saveDynamicComponentExports(t,r),e.loadedDynamicComponentsSet.add(t),r}catch(t){e.handleUserError(t)}finally{c.globDynamicComponentEntry=r}}function st(e,t,r){let{message:n,name:i,stack:o}=t||{};n||({message:n,name:i,stack:o}=Error(JSON.stringify(t)));let s=new R(`loadCard failed ${i}: ${n}`,o);s.cause=r,E(s,e,{originError:t,getSourceMapRelease:t=>{if(!e.__GetSourceMapRelease(t))return e.__GetSourceMapRelease(g.kDefaultSourceMapURL)}})}},752:function(e,t,r){var n,i,o,s,a,l,u,c={};r.r(c),r.d(c,{__AddConfig:()=>ey,__AddDataset:()=>eE,__GetAttributes:()=>ev,__GetComponentID:()=>eb,__GetConfig:()=>eL,__GetDataByKey:()=>eS,__GetDataset:()=>ex,__GetElementConfig:()=>eA,__GetElementUniqueID:()=>eC,__GetID:()=>eR,__GetTag:()=>eT,__SetAttribute:()=>eI,__SetConfig:()=>eO,__SetDataset:()=>eN,__SetID:()=>eM,__UpdateComponentID:()=>ew,__UpdateListCallbacks:()=>eD});var h={};r.r(h),r.d(h,{__AddClass:()=>tZ,__AddInlineStyle:()=>t2,__GetClasses:()=>t1,__SetCSSId:()=>t4,__SetClasses:()=>t0,__SetInlineStyles:()=>t3});var p={};r.r(p),r.d(p,{__AppendElement:()=>t5,__ElementIsEqual:()=>t6,__FirstElement:()=>t8,__GetChildren:()=>t7,__GetParent:()=>re,__InsertElementBefore:()=>rt,__LastElement:()=>rr,__NextElement:()=>rn,__RemoveElement:()=>ri,__ReplaceElement:()=>ro,__ReplaceElements:()=>rs,__SwapElement:()=>ra});var d={};r.r(d),r.d(d,{__AddEvent:()=>rl,__GetEvent:()=>ru,__GetEvents:()=>rc,__SetEvents:()=>rh});class _{port;name;incId=0;#e={};#t=new TextEncoder;#r=new TextDecoder;#n=new Map;constructor(e,t){this.port=e,this.name=t,e.onmessage=e=>this.#i(e.data)}get nextRetId(){return`ret_${this.name}_${this.incId++}`}static createRetEndpoint(e){return{name:e,hasReturn:!1,isSync:!1}}#i=async e=>{console.warn(`[rpc] on ${this.name} received ${e.name}`,e);let t=this.#n.get(e.name);if(t){let r=e.sync?new Int32Array(e.lock):void 0,n=!e.sync&&e.retId?_.createRetEndpoint(e.retId):void 0;try{let i=await t(...e.data);if(e.sync){if(e.buf){let t=JSON.stringify(i),r=new Uint32Array(e.buf,0,1),n=new Uint8Array(e.buf,4),o=new Uint8Array(e.buf.byteLength-4),{written:s}=this.#t.encodeInto(t,o);r[0]=s,n.set(o,0)}Atomics.store(r,0,1),Atomics.notify(r,0)}else e.retId&&this.invoke(n,[i,!1])}catch(t){console.error(t),e.sync?(Atomics.store(r,0,2),Atomics.notify(r,0),r[1]=2):this.invoke(n,[void 0,!0])}}else{let t=this.#e[e.name];t?t.push(e):this.#e[e.name]=[e]}};createCall(e){return(...t)=>this.invoke(e,t)}registerHandler(e,t){this.#n.set(e.name,t);let r=this.#e[e.name];if(r?.length)for(let t of(this.#e[e.name]=void 0,r))this.#i(t)}registerHandlerRef(e,t,r){this.registerHandler(e,(...e)=>t[r]?.call(t,...e))}registerHandlerLazy(e,t,r){if(t[r])this.registerHandlerRef(e,t,r);else{let n;let i=this;Object.defineProperty(t,r,{get:()=>n,set(o){n=o,o&&i.registerHandlerRef(e,t,r)}})}}removeHandler(e){this.#n.delete(e.name)}invoke(e,t,r=[]){if(e.isSync){let n=e.bufferSize?new SharedArrayBuffer(e.bufferSize+4):void 0,i=new SharedArrayBuffer(4),o=new Int32Array(i);o[0]=0;let s={name:e.name,data:t,sync:!0,lock:i,buf:n};if(this.port.postMessage(s,{transfer:r}),Atomics.wait(o,0,0),2===o[0])throw null;if(!n)return;{let e=new Uint32Array(n,0,4)[0],t=new Uint8Array(n,4,e),r=new Uint8Array(e);return r.set(t,0),r?JSON.parse(this.#r.decode(r)):void 0}}if(e.hasReturn){let{promise:n,resolve:i,reject:o}=Promise.withResolvers(),s=_.createRetEndpoint(this.nextRetId);this.registerHandler(s,(e,t)=>{t&&o(),i(e)});let a={name:e.name,data:t,sync:!1,retId:s?.name};return this.port.postMessage(a,{transfer:r}),n}{let n={name:e.name,data:t,sync:!1};this.port.postMessage(n,{transfer:r})}}createCallbackify(e,t){let r=this.createCall(e);return(...e)=>{let n=e.at(t);e.splice(t,1),r(...e).then(n)}}}let f="lynx-css-id",m="lynx-component-id",g="lynx-card-id",y="lynx-tag";function E(e,t,r=!0,n){return{name:e,isSync:t,hasReturn:r,bufferSize:n}}Symbol("lynx-runtime-value");let v=E("__postExposure",!1,!1),b=E("publicComponentEvent",!1,!1),S=E("publishEvent",!1,!1),x=E("postMainThreadEvent",!1,!1),A=E("__switchExposureService",!1,!1),C=E("mainThreadStart",!1,!1),R=E("updateData",!1,!0),T=E("sendGlobalEventEndpoint",!1,!1),I=E("dispose",!1,!0),O=E("postTimingResult",!1,!1),N=E("uiThreadFpReady",!1,!1),M=E("__OnLifecycleEvent",!1,!1),w=E("start",!1,!0),L=E("loadNewTag",!1,!0);E("reportError",!1,!0);let D=E("flushElementTree",!1,!0),P=E("mainThreadChunkReady",!1,!1),U=E("postTimingInfoFromMainThread",!1,!1),k=E("callLepusMethod",!1,!0),F=E("__invokeUIMethod",!1,!0),j=E("__setNativeProps",!1,!0),q=E("nativeModulesCall",!1,!0),$=E("getCustomSections",!1,!0),B=E("postTimingInfoFromBackgroundThread",!1,!1),G=E("__triggerComponentEvent",!1,!1),H=E("__selectComponent",!1,!0);function z(e,t){let r=e.createCall($);return(e,n)=>{t[e]&&n(t[e]),r(e).then(n)}}function V(e,t,r){return{__globalProps:e.globalProps,getJSModule(e){},getNativeApp:()=>t,getCoreContext:()=>({addInternalEventListener(){},addEventListener(){}}),getCustomSectionSync:t=>e.customSections[t],getCustomSection:z(r,e.customSections)}}function J(e){return(t,r,n,i,s,a,l)=>{e.invoke(F,[t,r,n,i,s,l]).then(a).catch(e=>{console.error("[lynx-web] invokeUIMethod failed",e),a({code:o.UNKNOWN,data:""})})}}function W(e,t){e.registerHandlerLazy(M,t,"OnLifecycleEvent")}function K(e,t){e.registerHandlerLazy(b,t,"publicComponentEvent")}function Q(e,t){e.registerHandler(v,({exposures:e,disExposures:r})=>{e.length>0&&t.GlobalEventEmitter.emit("exposure",[e.map(e=>Object.assign(e,e.detail,{dataset:e.target.dataset}))]),r.length>0&&t.GlobalEventEmitter.emit("disexposure",[r.map(e=>Object.assign(e,e.detail,{dataset:e.target.dataset}))])})}function X(e,t){let r=e.createCall(A),n=e.createCall(q),i={resumeExposure(){r(!0,!0)},stopExposure(e){r(!1,e.sendEvent??!0)}};return{bridge:{call(e,t,r){n(e,t,"bridge").then(r)}},LynxExposureModule:i,...Y(n,t)}}function Y(e,t){return Object.fromEntries(Object.entries(t).map(([t,r])=>{if("object"==typeof r)for(let[n,i]of Object.entries(r))"function"==typeof i&&(r[n]=Z({nativeModulesCall:e,moduleName:t,func:i}));return[t,r]}))}function Z({nativeModulesCall:e,moduleName:t,func:r}){let n={nativeModulesCall:(r,n)=>e(r,n,t)};return r.bind(n)}function ee(e,t){e.registerHandlerLazy(R,t,"updateCardData")}function et(e,t){e.registerHandlerLazy(S,t,"publishEvent")}function er(e){let t=0,r=new Map;return{performanceApis:{generatePipelineOptions:()=>({pipelineID:"_pipeline_"+t++,needTimestamps:!1}),onPipelineStart:function(){},markPipelineTiming:function(t,r){e(r,t)},bindPipelineIdWithTimingFlag:function(e,t){r.has(e)||r.set(e,[]),r.get(e).push(t)}},pipelineIdToTimingFlags:r}}!function(e){e[e.Create=0]="Create",e[e.SetAttribute=1]="SetAttribute",e[e.SetProperty=2]="SetProperty",e[e.SwapElement=3]="SwapElement",e[e.Append=4]="Append",e[e.Remove=5]="Remove",e[e.Replace=6]="Replace",e[e.SetDatasetProperty=7]="SetDatasetProperty",e[e.InsertBefore=8]="InsertBefore",e[e.SetStyleProperty=9]="SetStyleProperty",e[e.UpdateCssInJs=10]="UpdateCssInJs",e[e.RegisterEventHandler=11]="RegisterEventHandler"}(n||(n={})),function(e){e[e.ID_SELECTOR=0]="ID_SELECTOR",e[e.REF_ID=1]="REF_ID",e[e.UNIQUE_ID=2]="UNIQUE_ID"}(i||(i={})),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.UNKNOWN=1]="UNKNOWN",e[e.NODE_NOT_FOUND=2]="NODE_NOT_FOUND",e[e.METHOD_NOT_FOUND=3]="METHOD_NOT_FOUND",e[e.PARAM_INVALID=4]="PARAM_INVALID",e[e.SELECTOR_NOT_SUPPORTED=5]="SELECTOR_NOT_SUPPORTED",e[e.NO_UI_FOR_NODE=6]="NO_UI_FOR_NODE"}(o||(o={})),function(e){e[e.NotCanceled=0]="NotCanceled",e[e.CanceledByEventHandler=1]="CanceledByEventHandler",e[e.CanceledByDefaultEventHandler=2]="CanceledByDefaultEventHandler",e[e.CanceledBeforeDispatch=3]="CanceledBeforeDispatch"}(s||(s={})),function(e){e[e.UPDATE=0]="UPDATE",e[e.RESET=1]="RESET"}(a||(a={})),function(e){e[e.Unknown=0]="Unknown",e[e.UpdateExplictByUser=1]="UpdateExplictByUser",e[e.UpdateByKernelFromCtor=2]="UpdateByKernelFromCtor",e[e.UpdateByKernelFromRender=4]="UpdateByKernelFromRender",e[e.UpdateByKernelFromHydrate=8]="UpdateByKernelFromHydrate",e[e.UpdateByKernelFromGetDerived=16]="UpdateByKernelFromGetDerived",e[e.UpdateByKernelFromConflict=32]="UpdateByKernelFromConflict",e[e.UpdateByKernelFromHMR=64]="UpdateByKernelFromHMR"}(l||(l={}));let en={onSetup:"lynx.performance.timing.onSetup",onUpdate:"lynx.performance.timing.onUpdate"};function ei(e,t,r){let n={};e.registerHandler(O,(e,i,o,s)=>{if(s){n=s;let e={extra_timing:{},setup_timing:s,update_timings:{},metrics:{},has_reload:!1,thread_strategy:0,url:""};t.GlobalEventEmitter.emit(en.onSetup,[e])}else{let s=[...o,...r.get(e)??[]],a={extra_timing:{},setup_timing:n,update_timings:Object.fromEntries([...s].map(e=>[e,i])),metrics:{},has_reload:!1,thread_strategy:0,url:""};t.GlobalEventEmitter.emit(en.onUpdate,[a])}e&&r.delete(e)})}function eo(e,t){e.registerHandlerLazy(N,t,"onNativeAppReady")}function es(e,t){e.registerHandler(T,(...e)=>{t.GlobalEventEmitter.emit(...e)})}function ea(){let e=new FinalizationRegistry(e=>e());return t=>{let r={};return e.register(r,t),r}}let el=0;function eu(e){let{mainThreadRpc:t,uiThreadRpc:r,markTimingInternal:n,template:i,customNativeModules:o}=e,{performanceApis:s,pipelineIdToTimingFlags:a}=er(n),l=t.createCallbackify(k,2),u=r.createCall(j),c=r.createCall(G),h=r.createCallbackify(H,3);return{id:(el++).toString(),...s,setTimeout:setTimeout,setInterval:setInterval,clearTimeout:clearTimeout,clearInterval:clearInterval,nativeModuleProxy:X(r,o),loadScriptAsync:function(e,t){let r=i.manifest[`/${e}`];r&&(e=r),import(e).catch(t).then(async()=>{t(null,{init:e=>{e.tt.lynxCoreInject=e,e.tt.globalThis??=e;let t=globalThis.module.exports;return t?.(e.tt)}})})},loadScript:e=>{let t=i.manifest[`/${e}`];t&&(e=t),importScripts(e);let r=globalThis.module.exports;return{init:e=>r?.(e.tt)}},requestAnimationFrame:e=>requestAnimationFrame(e),cancelAnimationFrame:e=>cancelAnimationFrame(e),callLepusMethod:l,setNativeProps:u,invokeUIMethod:J(r),setCard(e){W(t,e),K(r,e),et(r,e),Q(r,e),ee(r,e),ei(r,e,a),eo(r,e),es(r,e)},triggerComponentEvent:c,selectComponent:h,createJSObjectDestructionObserver:ea()}}function ec(e,t,r,n){e.registerHandler(I,()=>{let e=t.id;n(e),r(e)})}function eh(e){return(t,r)=>{e.invoke(B,[t,r,performance.now()+performance.timeOrigin])}}let ep=Promise.resolve().then(r.bind(r,524));function ed(e,t){let r=new _(e,"bg-to-ui"),n=new _(t,"bg-to-main"),i=eh(r);i("load_core_start"),n.registerHandler(w,async e=>{i("load_core_end");let t=e.nativeModulesUrl?(await import(e.nativeModulesUrl))?.default??{}:{},o=eu({...e,uiThreadRpc:r,mainThreadRpc:n,markTimingInternal:i,customNativeModules:t}),s=V(e,o,n);ep.then(({loadCard:t,destroyCard:n,callDestroyLifetimeFun:i})=>{t(o,e,s),ec(r,o,n,i)})})}function e_(e,t){return{requestAnimationFrame:e=>requestAnimationFrame(e),cancelAnimationFrame:e=>cancelAnimationFrame(e),__globalProps:e.globalProps,requireModule(r){let n=e.lepusCode[`/${r}`];n&&(r=n),importScripts(r);let i=globalThis.module.exports;return i?.(t)},requireModuleAsync(r,n){let i=e.lepusCode[`/${r}`];i&&(r=i),import(r).catch(n).then(()=>{let e=globalThis.module.exports;n(null,e?.(t))})},getCustomSectionSync:t=>e.customSections[t]?.content,markPipelineTiming:e.callbacks.markTiming}}function ef(e,t){let r=(t=t??e.parent).children.findIndex(t=>t===e);if(-1===r)throw console.error("[lynx-web]",e," is not a child of",t),Error(`[lynx-web] ${e} is not a child of ${t}`);return r}globalThis.nativeConsole=console,function(e){e[e.Element=0]="Element"}(u||(u={}));class em{tag;uniqueId;parentComponentUniqueId;pageConfig;operationsRef;styleInfo;static uniqueIdToElement=[];static receiveEvent(e){let t=e.currentTarget.uniqueId,r=this.uniqueIdToElement[t]?.deref();if(r){let t=r.eventHandlerMap[e.type]?.handler;"function"==typeof t&&queueMicrotask(()=>{t(e)})}else this.uniqueIdToElement[t]=void 0}static getElementByUniqueId(e){return em.uniqueIdToElement[e]?.deref()}type=u.Element;eventHandlerMap={};attributes;property={componentConfig:{},dataset:{}};children=[];parent;constructor(e,t,r,i,o,s){this.tag=e,this.uniqueId=t,this.parentComponentUniqueId=r,this.pageConfig=i,this.operationsRef=o,this.styleInfo=s,this.attributes={style:null,class:"",[f]:null},em.uniqueIdToElement[this.uniqueId]=new WeakRef(this),o.operations.push({type:n.Create,uid:t,tag:e,puid:r.toString()})}setProperty(e,t){this.property[e]=t,"dataset"===e&&this.operationsRef.operations.push({uid:this.uniqueId,type:n.SetProperty,key:e,value:t})}setDatasetProperty(e,t){this.property.dataset[e]=t,this.operationsRef.operations.push({uid:this.uniqueId,type:n.SetDatasetProperty,key:e,value:t})}setAttribute(e,t){this.attributes[e]=t,this.operationsRef.operations.push({uid:this.uniqueId,type:n.SetAttribute,key:e,value:t})}getAttribute(e){return this.attributes[e]}appendChild(e){for(let t of(this.children.push(...e),e)){if(t.parent){let e=ef(t);t.parent.children.splice(e,1)}t.parent=this}this.operationsRef.operations.push({uid:this.uniqueId,type:n.Append,cid:e.map(e=>e.uniqueId)})}removeChild(e){let t=ef(e,this);return this.children.splice(t,1),e.parent=void 0,this.operationsRef.operations.push({type:n.Remove,uid:this.uniqueId,cid:[e.uniqueId]}),e}replaceWithElements(e){for(let t of e)if(this.parent===t)throw console.error("[lynx-web] cannot replace the element",this,"by its parent",t),Error("[lynx-web] cannot replace ");let t=this.parent;if(t){let r=ef(this);for(let n of(t.children.splice(r,1),this.parent=void 0,e)){if(n.parent){let e=ef(n);n.parent.children.splice(e,1)}n.parent=t}t.children.splice(r,0,...e),this.operationsRef.operations.push({type:n.Replace,uid:this.uniqueId,nid:e.map(e=>e.uniqueId)})}}swapWith(e){let t=this.parent,r=e.parent,i=ef(this),o=ef(e);t.children[i]=e,e.parent=t,r.children[o]=this,this.parent=r,this.operationsRef.operations.push({type:n.SwapElement,uid:this.uniqueId,tid:e.uniqueId})}insertBefore(e,t){if(t){let r=ef(t,this);this.children.splice(r,0,e),e.parent=this,this.operationsRef.operations.push({type:n.InsertBefore,uid:this.uniqueId,cid:e.uniqueId,ref:t.uniqueId})}else this.children.push(e),e.parent=this,this.operationsRef.operations.push({type:n.Append,uid:this.uniqueId,cid:[e.uniqueId]});return e}updateCssInJsGeneratedStyle(e){this.operationsRef.operations.push({type:n.UpdateCssInJs,uid:this.uniqueId,classStyleStr:e})}setStyleProperty(e,t,r){this.attributes.style=(this.attributes.style??"")+`${e}:${t??""}${r?"!important":""};`,this.operationsRef.operations.push({type:n.SetStyleProperty,uid:this.uniqueId,key:e,value:t,im:r})}setEventHandler(e,t,r){let i;t?(this.eventHandlerMap[e]={type:r,handler:t},i="function"==typeof t?null:t):this.eventHandlerMap[e]=void 0,this.operationsRef.operations.push({type:n.RegisterEventHandler,uid:this.uniqueId,eventType:r,hname:i,ename:e})}get firstElementChild(){return this.children[0]}get lastElementChild(){let e=this.children.length;return e>0?this.children[e-1]:void 0}get nextElementSibling(){if(this.parent){let e=ef(this);return this.parent.children[e+1]}}}class eg extends em{componentAtIndex;enqueueComponent;setAttribute(e,t){if("update-list-info"===e&&t){let{insertAction:e,removeAction:r}=t;queueMicrotask(()=>{for(let t of e)this.componentAtIndex(this,this.uniqueId,t.position,0,!1);for(let e of r)this.enqueueComponent(this,this.uniqueId,e.position)}),t=t.toString()}super.setAttribute(e,t)}}function ey(e,t,r){e.property.componentConfig[t]=r}function eE(e,t,r){e.setDatasetProperty(t,r)}function ev(e){return e.attributes}function eb(e){return e.attributes[m]}function eS(e,t){return e.property.dataset[t]}function ex(e){return e.property.dataset}function eA(e){return e.property.componentConfig}function eC(e){return e&&"object"==typeof e&&e.type===u.Element?e.uniqueId:-1}function eR(e){return e.attributes.id??""}function eT(e){return e.tag}function eI(e,t,r){e.setAttribute(t,r??null)}function eO(e,t){e.property.componentConfig=t}function eN(e,t){e.setProperty("dataset",t)}function eM(e,t){e.setAttribute("id",t)}function ew(e,t){eI(e,m,t)}function eL(e){return e.property.componentConfig}function eD(e,t,r){e.componentAtIndex=t,e.enqueueComponent=r}var eP=/[A-Z]/g,eU=/^ms-/,ek={};function eF(e){return"-"+e.toLowerCase()}let ej=function(e){if(ek.hasOwnProperty(e))return ek[e];var t=e.replace(eP,eF);return ek[e]=eU.test(t)?"-"+t:t},eq={};function e$(e){if(eq[e])return eq[e];let t=(e+"").replace(/-\D/g,function(e){return e.charAt(1).toUpperCase()});return eq[e]=t,t}let eB=1,eG={},eH={},ez=(e,t)=>{let r=eB++;eG[r]={name:e$(e),dashName:e,defaultValue:t},eH[e]=r};function eV(e){return eG[e]}function eJ(e,t,r){let n=e.split(" ").filter(e=>e),i=[],o=t[r??"0"];if(o)for(let e of n){let t=o[e];t&&i.push(...t)}else throw Error(`[lynx-web] cannot find styleinfo for cssid ${r}`);return i.map(([e,t])=>`${e}:${t};`).join("")}ez("top","auto"),ez("left","auto"),ez("right","auto"),ez("bottom","auto"),ez("position","relative"),ez("box-sizing","auto"),ez("background-color","transparent"),ez("border-left-color","black"),ez("border-right-color","black"),ez("border-top-color","black"),ez("border-bottom-color","black"),ez("border-radius","0px"),ez("border-top-left-radius","0px"),ez("border-bottom-left-radius","0px"),ez("border-top-right-radius","0px"),ez("border-bottom-right-radius","0px"),ez("border-width","0px"),ez("border-left-width","0px"),ez("border-right-width","0px"),ez("border-top-width","0px"),ez("border-bottom-width","0px"),ez("color","black"),ez("opacity","1"),ez("display","auto"),ez("overflow","hidden"),ez("height","auto"),ez("width","auto"),ez("max-width","auto"),ez("min-width","auto"),ez("max-height","auto"),ez("min-height","auto"),ez("padding","0px"),ez("padding-left","0px"),ez("padding-right","0px"),ez("padding-top","0px"),ez("padding-bottom","0px"),ez("margin","0px"),ez("margin-left","0px"),ez("margin-right","0px"),ez("margin-top","0px"),ez("margin-bottom","0px"),ez("white-space","normal"),ez("letter-spacing","0px"),ez("text-align","start"),ez("line-height",""),ez("text-overflow","clip"),ez("font-size","medium"),ez("font-weight","normal"),ez("flex","0"),ez("flex-grow","0"),ez("flex-shrink","1"),ez("flex-basis","auto"),ez("flex-direction","row"),ez("flex-wrap","nowrap"),ez("align-items","stretch"),ez("align-self","stretch"),ez("align-content","stretch"),ez("justify-content","stretch"),ez("background","transparent, transparent"),ez("border-color","black"),ez("font-family",""),ez("font-style","normal"),ez("transform",""),ez("animation",""),ez("animation-name",""),ez("animation-duration",""),ez("animation-timing-function","linear"),ez("animation-delay","0s"),ez("animation-iteration-count","1"),ez("animation-direction","normal"),ez("animation-fill-mode","none"),ez("animation-play-state","running"),ez("line-spacing","0px"),ez("border-style","solid"),ez("order","0"),ez("box-shadow",""),ez("transform-origin",""),ez("linear-orientation","vertical"),ez("linear-weight-sum","0"),ez("linear-weight","0"),ez("linear-gravity","none"),ez("linear-layout-gravity","none"),ez("layout-animation-create-duration","0s"),ez("layout-animation-create-timing-function","linear"),ez("layout-animation-create-delay","0s"),ez("layout-animation-create-property","opacity"),ez("layout-animation-delete-duration","0s"),ez("layout-animation-delete-timing-function","linear"),ez("layout-animation-delete-delay","0s"),ez("layout-animation-delete-property","opacity"),ez("layout-animation-update-duration","0s"),ez("layout-animation-update-timing-function","linear"),ez("layout-animation-update-delay","0s"),ez("adapt-font-size","0"),ez("aspect-ratio",""),ez("text-decoration",""),ez("text-shadow",""),ez("background-image",""),ez("background-position",""),ez("background-origin","border-box"),ez("background-repeat","no-repeat"),ez("background-size",""),ez("border",""),ez("visibility","visible"),ez("border-right",""),ez("border-left",""),ez("border-top",""),ez("border-bottom",""),ez("transition",""),ez("transition-property",""),ez("transition-duration",""),ez("transition-delay",""),ez("transition-timing-function",""),ez("content",""),ez("border-left-style",""),ez("border-right-style",""),ez("border-top-style",""),ez("border-bottom-style",""),ez("implicit-animation","true"),ez("overflow-x","hidden"),ez("overflow-y","hidden"),ez("word-break","normal"),ez("background-clip","border-box"),ez("outline","medium none black"),ez("outline-color","black"),ez("outline-style","black"),ez("outline-width","medium"),ez("vertical-align","default"),ez("caret-color","auto"),ez("direction","normal"),ez("relative-id","-1"),ez("relative-align-top","-1"),ez("relative-align-right","-1"),ez("relative-align-bottom","-1"),ez("relative-align-left","-1"),ez("relative-top-of","-1"),ez("relative-right-of","-1"),ez("relative-bottom-of","-1"),ez("relative-left-of","-1"),ez("relative-layout-once","true"),ez("relative-center","none"),ez("enter-transition-name",""),ez("exit-transition-name",""),ez("pause-transition-name",""),ez("resume-transition-name",""),ez("flex-flow","row nowrap"),ez("z-index","0"),ez("text-decoration-color","black"),ez("linear-cross-gravity","none"),ez("margin-inline-start","0px"),ez("margin-inline-end","0px"),ez("padding-inline-start","0px"),ez("padding-inline-end","0px"),ez("border-inline-start-color","black"),ez("border-inline-end-color","black"),ez("border-inline-start-width","0px"),ez("border-inline-end-width","0px"),ez("border-inline-start-style",""),ez("border-inline-end-style",""),ez("border-start-start-radius","0px"),ez("border-end-start-radius","0px"),ez("border-start-end-radius","0px"),ez("border-end-end-radius","0px"),ez("relative-align-inline-start","-1"),ez("relative-align-inline-end","-1"),ez("relative-inline-start-of","-1"),ez("relative-inline-end-of","-1"),ez("inset-inline-start","0px"),ez("inset-inline-end","0px"),ez("mask-image",""),ez("grid-template-columns",""),ez("grid-template-rows",""),ez("grid-auto-columns",""),ez("grid-auto-rows",""),ez("grid-column-span",""),ez("grid-row-span",""),ez("grid-column-start",""),ez("grid-column-end",""),ez("grid-row-start",""),ez("grid-row-end",""),ez("grid-column-gap",""),ez("grid-row-gap",""),ez("justify-items","stretch"),ez("justify-self","auto"),ez("grid-auto-flow","row"),ez("filter",""),ez("list-main-axis-gap","0px"),ez("list-cross-axis-gap","0px"),ez("linear-direction","column"),ez("perspective","none"),ez("cursor","default"),ez("text-indent","0px"),ez("clip-path",""),ez("text-stroke","0px transparent"),ez("text-stroke-width","0px"),ez("text-stroke-color","transparent"),ez("-x-auto-font-size","false"),ez("-x-auto-font-size-preset-sizes","");let eW=0,eK=1,eQ=2,eX=3,eY=4,eZ=5,e0=6,e1=7,e2=8,e3=9,e4=10,e9=11,e5=12,e6=13,e8=14,e7=15,te=16,tt=17,tr=18,tn=19,ti=20,to=21,ts=22,ta=23,tl=24,tu=25,tc=0;function th(e){return e>=48&&e<=57}function tp(e){return th(e)||e>=65&&e<=70||e>=97&&e<=102}function td(e){return e>=65&&e<=90}function t_(e){return e>=97&&e<=122}function tf(e){return td(e)||t_(e)}function tm(e){return e>=128}function tg(e){return tf(e)||tm(e)||95===e}function ty(e){return tg(e)||th(e)||45===e}function tE(e){return e>=0&&e<=8||11===e||e>=14&&e<=31||127===e}function tv(e){return 10===e||13===e||12===e}function tb(e){return tv(e)||32===e||9===e}function tS(e,t){return!(92!==e||tv(t)||t===tc)}function tx(e,t,r){return 45===e?tg(t)||45===t||tS(t,r):!!tg(e)||92===e&&tS(e,t)}function tA(e,t,r){return 43===e||45===e?th(t)?2:46===t&&th(r)?3:0:46===e?2*!!th(t):+!!th(e)}function tC(e){return+(65279===e||65534===e)}let tR=Array(128),tT=128,tI=130,tO=131,tN=132,tM=133;for(let e=0;e<tR.length;e++)tR[e]=tb(e)&&tI||th(e)&&tO||tg(e)&&tN||tE(e)&&tM||e||tT;function tw(e){return e<128?tR[e]:tN}function tL(e,t){return t<e.length?e.charCodeAt(t):0}function tD(e,t,r){return 13===r&&10===tL(e,t+1)?2:1}function tP(e,t,r){let n=e.charCodeAt(t);return td(n)&&(n|=32),n===r}function tU(e,t,r,n){if(r-t!==n.length||t<0||r>e.length)return!1;for(let i=t;i<r;i++){let r=n.charCodeAt(i-t),o=e.charCodeAt(i);if(td(o)&&(o|=32),o!==r)return!1}return!0}function tk(e,t){for(;t<e.length&&tb(e.charCodeAt(t));t++);return t}function tF(e,t){for(;t<e.length&&th(e.charCodeAt(t));t++);return t}function tj(e,t){if(tp(tL(e,(t+=2)-1))){for(let r=Math.min(e.length,t+5);t<r&&tp(tL(e,t));t++);let r=tL(e,t);tb(r)&&(t+=tD(e,t,r))}return t}function tq(e,t){for(;t<e.length;t++){let r=e.charCodeAt(t);if(!ty(r)){if(tS(r,tL(e,t+1))){t=tj(e,t)-1;continue}break}}return t}function t$(e,t){let r=e.charCodeAt(t);if((43===r||45===r)&&(r=e.charCodeAt(t+=1)),th(r)&&(t=tF(e,t+1),r=e.charCodeAt(t)),46===r&&th(e.charCodeAt(t+1))&&(t+=2,t=tF(e,t)),tP(e,t,101)){let n=0;(45===(r=e.charCodeAt(t+1))||43===r)&&(n=1,r=e.charCodeAt(t+2)),th(r)&&(t=tF(e,t+1+n+1))}return t}function tB(e,t){for(;t<e.length;t++){let r=e.charCodeAt(t);if(41===r){t++;break}tS(r,tL(e,t+1))&&(t=tj(e,t))}return t}let tG=new Uint8Array(32);function tH(e,t){let r;function n(t){return t<l?e.charCodeAt(t):0}function i(){if(tx(n(c=t$(e,c)),n(c+1),n(c+2))){r=e5,c=tq(e,c);return}if(37===n(c)){r=e9,c++;return}r=e4}function o(){let t=c;if(c=tq(e,c),tU(e,t,c,"url")&&40===n(c)){if(34===n(c=tk(e,c+1))||39===n(c)){r=eQ,c=t+4;return}a();return}if(40===n(c)){r=eQ,c++;return}r=eK}function s(t){for(t||(t=n(c++)),r=eZ;c<e.length;c++){let i=e.charCodeAt(c);switch(tw(i)){case t:c++;return;case tI:if(tv(i)){c+=tD(e,c,i),r=e0;return}break;case 92:if(c===e.length-1)break;let o=n(c+1);tv(o)?c+=tD(e,c+1,o):tS(i,o)&&(c=tj(e,c)-1)}}}function a(){for(r=e1,c=tk(e,c);c<e.length;c++){let t=e.charCodeAt(c);switch(tw(t)){case 41:c++;return;case tI:if(41===n(c=tk(e,c))||c>=e.length){c<e.length&&c++;return}c=tB(e,c),r=e2;return;case 34:case 39:case 40:case tM:c=tB(e,c),r=e2;return;case 92:if(tS(t,n(c+1))){c=tj(e,c)-1;break}c=tB(e,c),r=e2;return}}}let l=(e=String(e||"")).length,u=tC(n(0)),c=u;for(;c<l;){let a=e.charCodeAt(c);switch(tw(a)){case tI:r=e6,c=tk(e,c+1);break;case 34:case 39:s();break;case 35:ty(n(c+1))||tS(n(c+1),n(c+2))?(r=eY,c=tq(e,c+1)):(r=e3,c++);break;case 40:r=to,c++;break;case 41:r=ts,c++;break;case 43:case 46:tA(a,n(c+1),n(c+2))?i():(r=e3,c++);break;case 44:r=tr,c++;break;case 45:tA(a,n(c+1),n(c+2))?i():45===n(c+1)&&62===n(c+2)?(r=e7,c+=3):tx(a,n(c+1),n(c+2))?o():(r=e3,c++);break;case 47:42===n(c+1)?(r=tu,c=-1===(c=e.indexOf("*/",c+2))?e.length:c+2):(r=e3,c++);break;case 58:r=te,c++;break;case 59:r=tt,c++;break;case 60:33===n(c+1)&&45===n(c+2)&&45===n(c+3)?(r=e8,c+=4):(r=e3,c++);break;case 64:tx(n(c+1),n(c+2),n(c+3))?(r=eX,c=tq(e,c+1)):(r=e3,c++);break;case 91:r=tn,c++;break;case 92:tS(a,n(c+1))?o():(r=e3,c++);break;case 93:r=ti,c++;break;case 123:r=ta,c++;break;case 125:r=tl,c++;break;case tO:i();break;case tN:o();break;default:r=e3,c++}t(r,u,u=c)}}function tz(e){let t="0",r="1",n="auto",i=e.split(" ").filter(e=>e.trim());return 1===i.length?parseFloat(i[0]).toString()===i[0]?(t=i[0],n="0%"):"auto"===i[0]?n="auto":"none"===i[0]||(n=i[0]):2===i.length?(t=i[0],parseFloat(i[1]).toString()===i[1]?(r=i[1],n="0%"):(r="1",n=i[1])):3===i.length&&(t=i[0],r=i[1],n=i[2]),{flexGrow:t,flexShrink:r,flexBasis:n}}tG[eQ]=ts,tG[to]=ts,tG[tn]=ti,tG[ta]=tl;let tV={display:{linear:[["--lynx-display-toggle","var(--lynx-display-linear)"],["--lynx-display","linear"],["display","flex"]],flex:[["--lynx-display-toggle","var(--lynx-display-flex)"],["--lynx-display","flex"],["display","flex"]]},direction:{"lynx-rtl":[["direction","rtl"]]},"linear-orientation":{none:[],horizontal:[["--lynx-linear-orientation","horizontal"],["--lynx-linear-orientation-toggle","var(--lynx-linear-orientation-horizontal)"]],"horizontal-reverse":[["--lynx-linear-orientation","horizontal-reverse"],["--lynx-linear-orientation-toggle","var(--lynx-linear-orientation-horizontal-reverse)"]],vertical:[["--lynx-linear-orientation","vertical"],["--lynx-linear-orientation-toggle","var(--lynx-linear-orientation-vertical)"]],"vertical-reverse":[["--lynx-linear-orientation","vertical-reverse"],["--lynx-linear-orientation-toggle","var(--lynx-linear-orientation-vertical-reverse)"]]},"linear-direction":{none:[],row:[["--lynx-linear-orientation","horizontal"],["--lynx-linear-orientation-toggle","var(--lynx-linear-orientation-horizontal)"]],"row-reverse":[["--lynx-linear-orientation","horizontal-reverse"],["--lynx-linear-orientation-toggle","var(--lynx-linear-orientation-horizontal-reverse)"]],column:[["--lynx-linear-orientation","vertical"],["--lynx-linear-orientation-toggle","var(--lynx-linear-orientation-vertical)"]],"column-reverse":[["--lynx-linear-orientation","vertical-reverse"],["--lynx-linear-orientation-toggle","var(--lynx-linear-orientation-vertical-reverse)"]]},"linear-gravity":{none:[],top:[["--justify-content-column","flex-start"],["--justify-content-column-reverse","flex-end"],["--justify-content-row","flex-start"],["--justify-content-row-reverse","flex-start"]],bottom:[["--justify-content-column","flex-end"],["--justify-content-column-reverse","flex-start"],["--justify-content-row","flex-start"],["--justify-content-row-reverse","flex-start"]],left:[["--justify-content-column","flex-start"],["--justify-content-column-reverse","flex-start"],["--justify-content-row","flex-start"],["--justify-content-row-reverse","flex-end"]],right:[["--justify-content-column","flex-start"],["--justify-content-column-reverse","flex-start"],["--justify-content-row","flex-end"],["--justify-content-row-reverse","flex-start"]],"center-vertical":[["--justify-content-column","center"],["--justify-content-column-reverse","center"],["--justify-content-row","flex-start"],["--justify-content-row-reverse","flex-start"]],"center-horizontal":[["--justify-content-column","flex-start"],["--justify-content-column-reverse","flex-start"],["--justify-content-row","center"],["--justify-content-row-reverse","center"]],start:[["--justify-content-column","flex-start"],["--justify-content-column-reverse","flex-start"],["--justify-content-row","flex-start"],["--justify-content-row-reverse","flex-start"]],end:[["--justify-content-column","flex-end"],["--justify-content-column-reverse","flex-end"],["--justify-content-row","flex-end"],["--justify-content-row-reverse","flex-end"]],center:[["--justify-content-column","center"],["--justify-content-column-reverse","center"],["--justify-content-row","center"],["--justify-content-row-reverse","center"]],"space-between":[["--justify-content-column","space-between"],["--justify-content-column-reverse","space-between"],["--justify-content-row","space-between"],["--justify-content-row-reverse","space-between"]]},"linear-cross-gravity":{none:[],start:[["align-items","start"]],end:[["align-items","end"]],center:[["align-items","center"]],stretch:[["align-items","stretch"]]},"linear-layout-gravity":{none:[["--align-self-row","auto"],["--align-self-column","auto"]],stretch:[["--align-self-row","stretch"],["--align-self-column","stretch"]],top:[["--align-self-row","start"],["--align-self-column","auto"]],bottom:[["--align-self-row","end"],["--align-self-column","auto"]],left:[["--align-self-row","auto"],["--align-self-column","start"]],right:[["--align-self-row","auto"],["--align-self-column","end"]],start:[["--align-self-row","start"],["--align-self-column","start"]],end:[["--align-self-row","end"],["--align-self-column","end"]],center:[["--align-self-row","center"],["--align-self-column","center"]],"center-vertical":[["--align-self-row","center"],["--align-self-column","start"]],"center-horizontal":[["--align-self-row","start"],["--align-self-column","center"]],"fill-vertical":[["--align-self-row","stretch"],["--align-self-column","auto"]],"fill-horizontal":[["--align-self-row","auto"],["--align-self-column","stretch"]]}},tJ={"linear-weight":["--lynx-linear-weight",{name:"--lynx-linear-weight-basis",valueProcessor:e=>"0"===e?"auto":"0"}],color:[{name:"--lynx-color-toggle",valueProcessor:e=>e.includes("gradient")?"var(--lynx-color-gradient)":"var(--lynx-color-normal)"},"color","--lynx-color"],"flex-direction":["--flex-direction"],"flex-wrap":["--flex-wrap"],"justify-content":["--justify-content"],"align-self":["--align-self"],"flex-grow":["--flex-grow"],"flex-shrink":["--flex-shrink"],"flex-basis":["--flex-basis"]};function tW(e){let t=[],r=[];for(let n of e){let[e,i]=n,o=tV[e];if(o?.[i])for(let[e,r]of o[i])t.push([e,r]);else if(tJ[e]){let r=i.includes("!important");for(let n of tJ[e])"string"==typeof n?t.push([n,i]):t.push([n.name,n.valueProcessor(i.replace("!important","").trim())+(r?" !important":"")])}else if("flex"===e){let{flexGrow:e,flexShrink:r,flexBasis:n}=tz(i);t.push(["--flex-grow",e],["--flex-shrink",r],["--flex-basis",n])}else t.push(n);if("linear-weight-sum"===e){let e=i;("0"===e||"0 !important"===e)&&(e="1"),r.push(["--lynx-linear-weight-sum",e])}}return{transformedStyle:t,childStyle:r}}function tK(e){let t=[],r=!0,n=0,i=0,o=0,s=0;return tH(e+";",(a,l,u)=>{if(a===tt||eW){s=l;let a=e.substring(n,i).trim(),c=e.substring(o,s).trim();!r&&c&&a&&t.push([a,c]),r=!0,n=u}else a===te&&r&&(r=!1,o=u,i=l)}),t}function tQ(e){return tX(tK(e))}function tX(e){return tW(e)}function tY(e,t){let r=eJ(t,e.styleInfo,e.attributes[f]);e.updateCssInJsGeneratedStyle(r)}function tZ(e,t){let r=((e.attributes.class??"")+" "+t).trim();e.setAttribute("class",r),e.pageConfig.enableCSSSelector||tY(e,r)}function t0(e,t){e.setAttribute("class",t),e.pageConfig.enableCSSSelector||tY(e,t??"")}function t1(e){return(e.attributes.class??"").split(" ").filter(e=>e)}function t2(e,t,r){let n=eV(Number(t));if(!r){e.setStyleProperty(n.dashName,null);return}let{transformedStyle:i}=tX([[n.dashName,r]]);for(let[t,r]of i)e.setStyleProperty(t,r)}function t3(e,t){if(!t)return;let{transformedStyle:r}="string"==typeof t?tQ(t):tX(Object.entries(t).map(([e,t])=>[ej(e),t])),n=r.map(([e,t])=>`${e}:${t};`).join("");e.setAttribute("style",n)}function t4(e,t){for(let r of(t=t.toString(),e))if(r.getAttribute(f)!==t&&(r.setAttribute(f,t),!r.pageConfig.enableCSSSelector)){let e=r.getAttribute("class");e&&t0(r,e)}}function t9(e){let t=0,r=new Set,{operationsRef:n,pageConfig:i,styleInfo:o}=e;function s(s,a,l,u,c){r.has(s)||(e.onNewTag(s),r.add(s));let h=new("list"===s?eg:em)(s,t++,a,i,n,o);if(void 0!==l)t4([h],l);else if(a>=0){let e=em.getElementByUniqueId(a),t=e?.getAttribute(f);t&&"0"!==t&&t4([h],t)}return void 0!==u&&ew(h,u),h}return{__CreateView:function(e){return s("view",e)},__CreateText:function(e){return s("text",e)},__CreateComponent:function(e,t,r,n,i,o,a,l){let u=s("view",e,r,t,a);return u.setAttribute("name",i),u},__CreatePage:function(e,t,r){let n=s("page",0,t,e,r);return n.parentComponentUniqueId=n.uniqueId,n},__CreateRawText:function(e){let t=s("raw-text",-1);return t.setAttribute("text",e),t},__CreateImage:function(e){return s("image",e)},__CreateScrollView:function(e){return s("scroll-view",e)},__CreateElement:function(e,t,r){return s(e,t,void 0,void 0,r)},__CreateWrapperElement:function(e){return s("lynx-wrapper",e)},__CreateList:function(e,t,r,n){let i=s("list",e,void 0,void 0,n);return i.componentAtIndex=t,i.enqueueComponent=r,i}}}function t5(e,t){e.appendChild([t])}function t6(e,t){return e===t}function t8(e){return e.firstElementChild}function t7(e){return e.children}function re(e){return e.parent}function rt(e,t,r){return e.insertBefore(t,r)}function rr(e){return e.lastElementChild}function rn(e){return e.nextElementSibling}function ri(e,t){return e.removeChild(t),t}function ro(e,t){t.replaceWithElements([e])}function rs(e,t,r){if(t=Array.isArray(t)?t:[t],!r||Array.isArray(r)&&r?.length===0)e.appendChild(t);else{r=Array.isArray(r)?r:[r];for(let t=1;t<r.length;t++)ri(e,r[t]);r[0].replaceWithElements(t)}}function ra(e,t){e.swapWith(t)}function rl(e,t,r,n){e.setEventHandler(r,n,t)}function ru(e,t,r){let n=t.toLowerCase(),i=e.eventHandlerMap[n];if(i?.type===r)return i.handler}function rc(e){return Object.entries(e.eventHandlerMap).map(([e,t])=>{if(t)return{type:t.type,function:t.handler,name:e}}).filter(e=>e)}function rh(e,t){for(let{type:r,name:n,function:i}of t)rl(e,r,n,i)}function rp(e){function t(r){let n=e[r],i=n?.imports;if(n&&i?.length){for(let e of i){let r=t(e);r&&(n.content.push(...r.content),n.rules.push(...r.rules))}n.imports=void 0}return n}Object.keys(e).map(e=>{t(e)})}function rd(e){for(let t of Object.values(e))for(let e of t.rules){let{sel:r,decl:n}=e,{transformedStyle:i,childStyle:o}=tW(n);e.decl=i,o.length>0&&t.rules.push({sel:r.map(e=>[e[0].concat([">","*"]),e[1],e[2]]),decl:o})}}function r_(e,t,r,n){function i(e){let i="",o="";return r.enableRemoveCSSScope||(void 0!==e?o+=`[${f}="${e}"]`:o+=`[${y}]`),n.supportAtScope||(i=`[${g}="${t}"] `+i),{prepend:i,suffix:o}}let o=[];for(let[t,r]of Object.entries(e)){let{prepend:e,suffix:n}=i(t),s=r.rules.map(t=>{let{sel:r,decl:i}=t,o=r.map(([t,r,i])=>[e,t.join(""),n,r.join(""),i.join("")].join("")).join(","),s=i.map(([e,t])=>`${e}:${t};`).join("");return`${o}{${s}}`}).join("");o.push(...r.content,s)}return o.join("\n")}function rf(e){return Object.fromEntries(Object.entries(e).map(([e,t])=>{let r={};return t.rules=t.rules.filter(e=>(e.sel=e.sel.filter(t=>{let[n,i,o]=t;if(1===n.length&&"."===n[0][0]&&0===i.length&&0===o.length){let t=n[0].substring(1),i=r[t];return i?i.push(...e.decl):r[t]=e.decl,!1}return!0}),e.sel.length>0)),[e,r]}))}class rm{config;isFp=!0;operationsRef={operations:[]};constructor(e){this.config=e,this.__globalProps=e.globalProps,this.lynx=e_(e,this),rp(this.config.styleInfo),rd(this.config.styleInfo);let t=this.config.pageConfig.enableCSSSelector?{}:rf(this.config.styleInfo);Object.assign(this,c,p,d,h,t9({operationsRef:this.operationsRef,pageConfig:e.pageConfig,onNewTag:e.callbacks.onNewTag,styleInfo:t})),this.__LoadLepusChunk=e=>{try{return this.lynx.requireModule(e),!0}catch{}return!1},this._ReportError=this.config.callbacks._ReportError,this.__OnLifecycleEvent=this.config.callbacks.__OnLifecycleEvent,Object.defineProperty(this,"renderPage",{get:()=>this.#o,set:e=>{this.#o=e,queueMicrotask(this.config.callbacks.mainChunkReady)}})}get globalThis(){let e=Object.assign(globalThis,this);return Object.defineProperty(e,"renderPage",Object.getOwnPropertyDescriptor(this,"renderPage")),e}lynx;NativeModules=void 0;__globalProps;processData;#o;_ReportError;__OnLifecycleEvent;__LoadLepusChunk;__FlushElementTree=(e,t)=>{let r=this.operationsRef.operations;this.operationsRef.operations=[],this.config.callbacks.flushElementTree(r,t,this.isFp?r_(this.config.styleInfo,this.config.entryId,this.config.pageConfig,this.config.browserConfig):void 0),this.isFp=!1};updatePage}function rg(e,t){e.registerHandler(k,(e,r)=>{t[e](r)})}function ry(e){e.registerHandler(x,e=>{em.receiveEvent(e)})}function rE(e,t){e.registerHandler($,e=>t[e]?.content)}function rv(e){return(t,r)=>{e.invoke(U,[t,r,performance.now()+performance.timeOrigin])}}function rb(e,t){e.registerHandler(R,(...e)=>{t.updatePage?.(...e)})}function rS(e,t){let r=new _(e,"main-to-ui"),n=new _(t,"main-to-bg"),i=rv(r),o=n.createCall(w),s=n.createCall(M),a=r.createCall(P),l=r.createCall(L),u=r.createCall(D);i("lepus_excute_start"),r.registerHandler(C,async e=>{let{globalProps:t,template:c,entryId:h,browserConfig:p,nativeModulesUrl:d}=e,{styleInfo:_,pageConfig:f,customSections:m,cardType:g,lepusCode:y}=c;i("decode_start"),await import(c.lepusCode.root);let E=globalThis.module.exports,v=new rm({entryId:h,browserConfig:p,customSections:m,globalProps:t,pageConfig:f,styleInfo:_,lepusCode:y,callbacks:{mainChunkReady:function(){a({pageConfig:f}),i("data_processor_start");let s=v.processData?v.processData(e.initData):e.initData;i("data_processor_end"),rg(n,v),ry(r),rE(n,m),rb(r,v),o({initData:s,globalProps:t,template:c,cardType:g??"react",customSections:Object.fromEntries(Object.entries(m).filter(([,e])=>"lazy"!==e.type).map(([e,t])=>[e,t.content])),nativeModulesUrl:d}),v.renderPage(s),v.__FlushElementTree(void 0,{})},onNewTag:l,flushElementTree:u,_ReportError:function(e,t){console.error("main-thread:",e,t)},__OnLifecycleEvent:s,markTiming:(e,t)=>i(t,e)}}).globalThis;i("decode_end"),E(v)})}self.onmessage=e=>{let{mode:t,toPeerThread:r,toUIThread:n}=e.data;"main"===t?rS(n,r):ed(n,r)},Object.assign(globalThis,{SystemInfo:{platform:"web"},module:{exports:null}})}}]);